<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
  <title>团灭丑数问题 - 飞熊&#39;s blogs</title>
  <meta name="renderer" content="webkit" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>

<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />

<meta name="theme-color" content="#f8f5ec" />
<meta name="msapplication-navbutton-color" content="#f8f5ec">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="#f8f5ec">


<meta name="author" content="飞熊" /><meta name="description" content="什么是丑数？ 先看一下百度百科的解释: 说法一（ugly number）：把只包含质因子2，3和5的数称作丑数（Ugly Number）。例如6、8" /><meta name="keywords" content="iOS, 算法, Blog" />






<meta name="generator" content="Hugo 0.68.3 with theme even" />


<link rel="canonical" href="https://zhangxiongfeiv.github.io/post/%E5%9B%A2%E7%81%AD%E4%B8%91%E6%95%B0%E9%97%AE%E9%A2%98/" />
<link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
<link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
<link rel="manifest" href="/manifest.json">
<link rel="mask-icon" href="/safari-pinned-tab.svg" color="#5bbad5">



<link href="/sass/main.min.e23b16f70676ed692f169c65f07230cd9d3e790a4b5b15dc32b1ee36e7604994.css" rel="stylesheet">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@3.1.20/dist/jquery.fancybox.min.css" integrity="sha256-7TyXnr2YU040zfSP+rEcz29ggW4j56/ujTPwjMzyqFY=" crossorigin="anonymous">


<meta property="og:title" content="团灭丑数问题" />
<meta property="og:description" content="什么是丑数？ 先看一下百度百科的解释: 说法一（ugly number）：把只包含质因子2，3和5的数称作丑数（Ugly Number）。例如6、8" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://zhangxiongfeiv.github.io/post/%E5%9B%A2%E7%81%AD%E4%B8%91%E6%95%B0%E9%97%AE%E9%A2%98/" />
<meta property="article:published_time" content="2020-05-30T10:15:13+08:00" />
<meta property="article:modified_time" content="2020-05-30T10:15:13+08:00" />
<meta itemprop="name" content="团灭丑数问题">
<meta itemprop="description" content="什么是丑数？ 先看一下百度百科的解释: 说法一（ugly number）：把只包含质因子2，3和5的数称作丑数（Ugly Number）。例如6、8">
<meta itemprop="datePublished" content="2020-05-30T10:15:13&#43;08:00" />
<meta itemprop="dateModified" content="2020-05-30T10:15:13&#43;08:00" />
<meta itemprop="wordCount" content="4836">



<meta itemprop="keywords" content="数据结构,二叉堆,动态规划,算法,团灭系列," /><meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="团灭丑数问题"/>
<meta name="twitter:description" content="什么是丑数？ 先看一下百度百科的解释: 说法一（ugly number）：把只包含质因子2，3和5的数称作丑数（Ugly Number）。例如6、8"/>

<!--[if lte IE 9]>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/classlist/1.1.20170427/classList.min.js"></script>
<![endif]-->

<!--[if lt IE 9]>
  <script src="https://cdn.jsdelivr.net/npm/html5shiv@3.7.3/dist/html5shiv.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/respond.js@1.4.2/dest/respond.min.js"></script>
<![endif]-->

</head>
<body>
  <div id="mobile-navbar" class="mobile-navbar">
  <div class="mobile-header-logo">
    <a href="/" class="logo">Fly</a>
  </div>
  <div class="mobile-navbar-icon">
    <span></span>
    <span></span>
    <span></span>
  </div>
</div>
<nav id="mobile-menu" class="mobile-menu slideout-menu">
  <ul class="mobile-menu-list">
    <a href="/">
        <li class="mobile-menu-item">Home</li>
      </a><a href="/post/">
        <li class="mobile-menu-item">Archives</li>
      </a><a href="/tags/">
        <li class="mobile-menu-item">Tags</li>
      </a><a href="/categories/">
        <li class="mobile-menu-item">Categories</li>
      </a><a href="/about/">
        <li class="mobile-menu-item">Abouts</li>
      </a>
  </ul>
</nav>
  <div class="container" id="mobile-panel">
    <header id="header" class="header">
        <div class="logo-wrapper">
  <a href="/" class="logo">Fly</a>
</div>

<nav class="site-navbar">
  <ul id="menu" class="menu">
    <li class="menu-item">
        <a class="menu-item-link" href="/">Home</a>
      </li><li class="menu-item">
        <a class="menu-item-link" href="/post/">Archives</a>
      </li><li class="menu-item">
        <a class="menu-item-link" href="/tags/">Tags</a>
      </li><li class="menu-item">
        <a class="menu-item-link" href="/categories/">Categories</a>
      </li><li class="menu-item">
        <a class="menu-item-link" href="/about/">Abouts</a>
      </li>
  </ul>
</nav>
    </header>

    <main id="main" class="main">
      <div class="content-wrapper">
        <div id="content" class="content">
          <article class="post">
    
    <header class="post-header">
      <h1 class="post-title">团灭丑数问题</h1>

      <div class="post-meta">
        <span class="post-time"> May 30 </span>
        
          <span class="more-meta"> 4836 words </span>
          <span class="more-meta"> 10 mins read </span>
        
      </div>
    </header>

    <div class="post-toc" id="post-toc">
  <h2 class="post-toc-title">Contents</h2>
  <div class="post-toc-content always-active">
    <nav id="TableOfContents">
  <ul>
    <li><a href="#什么是丑数">什么是丑数？</a></li>
    <li><a href="#相关题目">相关题目</a></li>
    <li><a href="#263-丑数httpsleetcode-cncomproblemsugly-number"><a href="https://leetcode-cn.com/problems/ugly-number/">263. 丑数</a></a>
      <ul>
        <li><a href="#题解">题解：</a></li>
      </ul>
    </li>
    <li><a href="#264-丑数-iihttpsleetcode-cncomproblemsugly-number-ii"><a href="https://leetcode-cn.com/problems/ugly-number-ii/">264. 丑数 II</a></a>
      <ul>
        <li><a href="#题解-1">题解：</a></li>
      </ul>
    </li>
    <li><a href="#1201-丑数-iiihttpsleetcode-cncomproblemsugly-number-iii"><a href="https://leetcode-cn.com/problems/ugly-number-iii/">1201. 丑数 III</a></a>
      <ul>
        <li><a href="#题解-2">题解：</a></li>
      </ul>
    </li>
    <li><a href="#313-超级丑数httpsleetcode-cncomproblemssuper-ugly-number"><a href="https://leetcode-cn.com/problems/super-ugly-number/">313. 超级丑数</a></a>
      <ul>
        <li><a href="#题解-3">题解：</a></li>
      </ul>
    </li>
  </ul>
</nav>
  </div>
</div>
    <div class="post-content">
      <h2 id="什么是丑数">什么是丑数？</h2>
<p>先看一下百度百科的解释:</p>
<blockquote>
<p>说法一（ugly number）：把只包含质因子2，3和5的数称作丑数（Ugly Number）。例如6、8都是丑数，但7、14不是，因为它们包含质因子7。 习惯上我们把1当做是第一个丑数。</p>
<p>说法二(humble number)：对于一给定的素数集合 S = {p1, p2, &hellip;, pK},考虑一个正整数集合，该集合中任一元素的质因数全部属于S。这个正整数集合包括，p1、p1<em>p2、p1</em>p1、p1<em>p2</em>p3&hellip;(还有其它)。该集合被称为S集合的“丑数集合”。</p>
</blockquote>
<h2 id="相关题目">相关题目</h2>
<p>leetcode上丑数相关题目有四个, 这篇文章来解决并总结这四道题目的解法.</p>
<p><img src="https://tva1.sinaimg.cn/large/007S8ZIlly1gfbo05jrcxj314207qq46.jpg" alt="截屏2020-05-31下午3.25.57"></p>
<h2 id="263-丑数httpsleetcode-cncomproblemsugly-number"><a href="https://leetcode-cn.com/problems/ugly-number/">263. 丑数</a></h2>
<blockquote>
<p>编写一个程序判断给定的数是否为丑数。</p>
<p>丑数就是只包含质因数 2, 3, 5 的正整数。</p>
<p>示例 1:</p>
<p>输入: 6
输出: true
解释: 6 = 2 × 3
示例 2:</p>
<p>输入: 8
输出: true
解释: 8 = 2 × 2 × 2
示例 3:</p>
<p>输入: 14
输出: false
解释: 14 不是丑数，因为它包含了另外一个质因数 7。
说明：</p>
<p>1 是丑数。
输入不会超过 32 位有符号整数的范围: [−231,  231 − 1]。</p>
<p>来源：力扣（LeetCode）
链接：https://leetcode-cn.com/problems/ugly-number
著作权归领扣网络所有。商业转载请联系官方授权，非商业转载请注明出处。</p>
</blockquote>
<h3 id="题解">题解：</h3>
<h4 id="思路一">思路一：</h4>
<ul>
<li>判断一个数字是不是丑数, 从头到位计算每一位比当前数字小或者相等的丑数</li>
<li>再计算下一个丑数，如果下一个丑数刚好 == 传入数字。 则是丑数</li>
<li>否则不是丑数</li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-java" data-lang="java"><span class="cm">/*
</span><span class="cm">    * 第一种思路
</span><span class="cm">    * 在丑数小于 num 时
</span><span class="cm">    * 依次计算，丑数数列的下一个
</span><span class="cm">    * 直到数列的数字 &gt;= 丑数时
</span><span class="cm">    * 当 == 丑数时，true。 当 &gt; 丑数时， false。
</span><span class="cm">    * */</span>
    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">boolean</span> <span class="nf">isUgly</span><span class="o">(</span><span class="kt">int</span> <span class="n">num</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">if</span> <span class="o">(</span><span class="n">num</span> <span class="o">&lt;=</span> <span class="n">0</span><span class="o">)</span> <span class="k">return</span> <span class="kc">false</span><span class="o">;</span>

        <span class="kt">int</span> <span class="n">p2</span> <span class="o">=</span> <span class="n">0</span><span class="o">,</span> <span class="n">p3</span> <span class="o">=</span> <span class="n">0</span><span class="o">,</span> <span class="n">p5</span> <span class="o">=</span> <span class="n">0</span><span class="o">;</span>
        <span class="n">ArrayList</span><span class="o">&lt;</span><span class="n">Integer</span><span class="o">&gt;</span> <span class="n">list</span> <span class="o">=</span> <span class="k">new</span> <span class="n">ArrayList</span><span class="o">&lt;&gt;();</span>
        <span class="n">list</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="n">1</span><span class="o">);</span>

        <span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="n">0</span><span class="o">;</span>
        <span class="k">while</span> <span class="o">(</span><span class="n">list</span><span class="o">.</span><span class="na">get</span><span class="o">(</span><span class="n">i</span><span class="o">)</span> <span class="o">&lt;</span> <span class="n">num</span><span class="o">){</span>
            <span class="n">list</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="n">Math</span><span class="o">.</span><span class="na">min</span><span class="o">(</span><span class="n">Math</span><span class="o">.</span><span class="na">min</span><span class="o">(</span><span class="n">list</span><span class="o">.</span><span class="na">get</span><span class="o">(</span><span class="n">p2</span><span class="o">)</span> <span class="o">*</span> <span class="n">2</span><span class="o">,</span> <span class="n">list</span><span class="o">.</span><span class="na">get</span><span class="o">(</span><span class="n">p3</span><span class="o">)</span> <span class="o">*</span> <span class="n">3</span><span class="o">),</span> <span class="n">list</span><span class="o">.</span><span class="na">get</span><span class="o">(</span><span class="n">p5</span><span class="o">)</span> <span class="o">*</span> <span class="n">5</span><span class="o">));</span>

            <span class="n">i</span> <span class="o">++;</span>
            <span class="k">if</span> <span class="o">(</span><span class="n">list</span><span class="o">.</span><span class="na">get</span><span class="o">(</span><span class="n">i</span><span class="o">)</span> <span class="o">==</span> <span class="n">list</span><span class="o">.</span><span class="na">get</span><span class="o">(</span><span class="n">p2</span><span class="o">)</span> <span class="o">*</span> <span class="n">2</span><span class="o">)</span> <span class="n">p2</span> <span class="o">++;</span>
            <span class="k">if</span> <span class="o">(</span><span class="n">list</span><span class="o">.</span><span class="na">get</span><span class="o">(</span><span class="n">i</span><span class="o">)</span> <span class="o">==</span> <span class="n">list</span><span class="o">.</span><span class="na">get</span><span class="o">(</span><span class="n">p3</span><span class="o">)</span> <span class="o">*</span> <span class="n">3</span><span class="o">)</span> <span class="n">p3</span> <span class="o">++;</span>
            <span class="k">if</span> <span class="o">(</span><span class="n">list</span><span class="o">.</span><span class="na">get</span><span class="o">(</span><span class="n">i</span><span class="o">)</span> <span class="o">==</span> <span class="n">list</span><span class="o">.</span><span class="na">get</span><span class="o">(</span><span class="n">p5</span><span class="o">)</span> <span class="o">*</span> <span class="n">5</span><span class="o">)</span> <span class="n">p5</span> <span class="o">++;</span>
        <span class="o">}</span>

        <span class="k">return</span> <span class="n">list</span><span class="o">.</span><span class="na">get</span><span class="o">(</span><span class="n">i</span><span class="o">)</span> <span class="o">==</span> <span class="n">num</span><span class="o">;</span>
    <span class="o">}</span>
</code></pre></td></tr></table>
</div>
</div><p><img src="https://tva1.sinaimg.cn/large/007S8ZIlly1gfau3jbn9bj30os0323yo.jpg" alt="截屏2020-05-30下午10.14.26"></p>
<p>此解法，因为n 的 取值范围**[−231, 231 − 1]**， 当n过大时， 额外申请的数组的存储空间会很大，超出内存限制。</p>
<p>时间复杂度 : O(N)</p>
<p>空间复杂度 : O(1)</p>
<h4 id="思路二">思路二:</h4>
<ul>
<li>
<p>如果是丑数， 则num / 2i /3j / 5k 最终为一</p>
</li>
<li>
<p>如果余数 != 0, 则代表除不尽， 退出循环</p>
</li>
<li>
<p>继续除下一个</p>
</li>
<li>
<p>一直除到5， 如果最终数为1，则为丑数， 否则不是丑数</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-java" data-lang="java"><span class="cm">/*
</span><span class="cm">    *
</span><span class="cm">    * 思路二：
</span><span class="cm">    * 如果是丑数， 则 除2 ， 除3， 除5 最终为1。
</span><span class="cm">    * 如果 余数 != 0， 代表除不尽， 退出循环
</span><span class="cm">    * 继续除下一个
</span><span class="cm">    * 一直除到5，如果最终数为1， 则为丑数，否则不是丑数
</span><span class="cm">    * */</span>
    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">boolean</span> <span class="nf">isUgly1</span><span class="o">(</span><span class="kt">int</span> <span class="n">num</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">if</span> <span class="o">(</span><span class="n">num</span> <span class="o">&lt;=</span> <span class="n">0</span><span class="o">)</span> <span class="k">return</span> <span class="kc">false</span><span class="o">;</span>
  
        <span class="k">while</span> <span class="o">(</span><span class="n">num</span> <span class="o">%</span> <span class="n">2</span> <span class="o">==</span> <span class="n">0</span><span class="o">)</span> <span class="n">num</span> <span class="o">/=</span> <span class="n">2</span><span class="o">;</span>
        <span class="k">if</span> <span class="o">(</span><span class="n">num</span> <span class="o">==</span> <span class="n">1</span><span class="o">)</span> <span class="k">return</span> <span class="kc">true</span><span class="o">;</span>
  
        <span class="k">while</span> <span class="o">(</span><span class="n">num</span> <span class="o">%</span> <span class="n">3</span> <span class="o">==</span> <span class="n">0</span><span class="o">)</span> <span class="n">num</span> <span class="o">/=</span> <span class="n">3</span><span class="o">;</span>
        <span class="k">if</span> <span class="o">(</span><span class="n">num</span> <span class="o">==</span> <span class="n">1</span><span class="o">)</span> <span class="k">return</span> <span class="kc">true</span><span class="o">;</span>
  
        <span class="k">while</span> <span class="o">(</span><span class="n">num</span> <span class="o">%</span> <span class="n">5</span> <span class="o">==</span> <span class="n">0</span><span class="o">)</span> <span class="n">num</span> <span class="o">/=</span> <span class="n">5</span><span class="o">;</span>
        <span class="k">if</span> <span class="o">(</span><span class="n">num</span> <span class="o">==</span> <span class="n">1</span><span class="o">)</span> <span class="k">return</span> <span class="kc">true</span><span class="o">;</span>
  
        <span class="k">return</span> <span class="kc">false</span><span class="o">;</span>
    <span class="o">}</span>
</code></pre></td></tr></table>
</div>
</div><p><img src="https://tva1.sinaimg.cn/large/007S8ZIlly1gfau7o78xtj30oc06m0th.jpg" alt="截屏2020-05-30下午10.16.56"></p>
</li>
</ul>
<h4 id="思路三">思路三：</h4>
<p>递归</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-java" data-lang="java"><span class="cm">/*
</span><span class="cm">* 
</span><span class="cm">* 思路三：
</span><span class="cm">* 递归
</span><span class="cm">* 跟思路二类似
</span><span class="cm">* 迭代 换成 递归
</span><span class="cm">* */</span>
<span class="kd">public</span> <span class="kd">static</span> <span class="kt">boolean</span> <span class="nf">isUgly</span><span class="o">(</span><span class="kt">int</span> <span class="n">num</span><span class="o">)</span> <span class="o">{</span>
    <span class="k">if</span> <span class="o">(</span><span class="n">num</span> <span class="o">&lt;</span> <span class="n">1</span><span class="o">)</span> <span class="k">return</span> <span class="kc">false</span><span class="o">;</span>
    <span class="k">if</span> <span class="o">(</span><span class="n">num</span> <span class="o">==</span> <span class="n">1</span><span class="o">)</span> <span class="k">return</span> <span class="kc">true</span><span class="o">;</span>
    <span class="k">return</span> <span class="n">search</span><span class="o">(</span><span class="n">num</span><span class="o">);</span>
<span class="o">}</span>

<span class="kd">public</span> <span class="kd">static</span> <span class="kt">boolean</span> <span class="nf">search</span><span class="o">(</span><span class="kt">int</span> <span class="n">num</span><span class="o">){</span>
    <span class="k">if</span> <span class="o">(</span><span class="n">num</span> <span class="o">==</span> <span class="n">1</span><span class="o">)</span> <span class="k">return</span> <span class="kc">true</span><span class="o">;</span>

    <span class="c1">// 如果对 2 3 5都不能整除, 则说明这条路走不通, 返回上一层
</span><span class="c1"></span>    <span class="k">if</span> <span class="o">(</span><span class="n">num</span> <span class="o">%</span> <span class="n">2</span> <span class="o">!=</span> <span class="n">0</span> <span class="o">&amp;&amp;</span> <span class="n">num</span> <span class="o">%</span> <span class="n">3</span> <span class="o">!=</span> <span class="n">0</span> <span class="o">&amp;&amp;</span> <span class="n">num</span> <span class="o">%</span> <span class="n">5</span> <span class="o">!=</span> <span class="n">0</span><span class="o">)</span> <span class="k">return</span> <span class="kc">false</span><span class="o">;</span>

    <span class="k">if</span> <span class="o">(</span><span class="n">num</span> <span class="o">%</span> <span class="n">2</span> <span class="o">==</span> <span class="n">0</span><span class="o">){</span>
        <span class="k">return</span> <span class="n">search</span><span class="o">(</span><span class="n">num</span> <span class="o">&gt;&gt;</span> <span class="n">1</span><span class="o">);</span>
    <span class="o">}</span><span class="k">else</span> <span class="k">if</span> <span class="o">(</span><span class="n">num</span> <span class="o">%</span> <span class="n">3</span> <span class="o">==</span> <span class="n">0</span><span class="o">){</span>
        <span class="k">return</span> <span class="n">search</span><span class="o">(</span><span class="n">num</span> <span class="o">/</span> <span class="n">3</span><span class="o">);</span>
    <span class="o">}</span>
    <span class="k">return</span> <span class="n">search</span><span class="o">(</span><span class="n">num</span> <span class="o">/</span> <span class="n">5</span><span class="o">);</span>
<span class="o">}</span>
</code></pre></td></tr></table>
</div>
</div><p><img src="https://tva1.sinaimg.cn/large/007S8ZIlly1gfaul93da3j30om06w0th.jpg" alt="截屏2020-05-30下午10.28.49"></p>
<h2 id="264-丑数-iihttpsleetcode-cncomproblemsugly-number-ii"><a href="https://leetcode-cn.com/problems/ugly-number-ii/">264. 丑数 II</a></h2>
<blockquote>
<p>编写一个程序，找出第 n 个丑数。</p>
<p>丑数就是质因数只包含 2, 3, 5 的正整数。</p>
<p>示例:</p>
<p>输入: n = 10
输出: 12
解释: 1, 2, 3, 4, 5, 6, 8, 9, 10, 12 是前 10 个丑数。
说明:</p>
<p>1 是丑数。
n 不超过1690。</p>
<p>来源：力扣（LeetCode）
链接：https://leetcode-cn.com/problems/ugly-number-ii
著作权归领扣网络所有。商业转载请联系官方授权，非商业转载请注明出处。</p>
</blockquote>
<h3 id="题解-1">题解：</h3>
<h4 id="思路一-1">思路一：</h4>
<ul>
<li>利用最小堆 (Java中的优先级队列)</li>
<li>利用优先级队列自动排序的功能</li>
<li>每次取出对头元素，存入对头元素 * 2, 对头元素 * 3, 对头元素 * 5</li>
<li>但注意，像12这个元素，可以是 4 * 3得到，也可以是 2 * 6得到，所以注意去重</li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-java" data-lang="java"> <span class="cm">/*
</span><span class="cm">    *
</span><span class="cm">    * 思路一：
</span><span class="cm">    * 最小堆
</span><span class="cm">    * 利用优先队列有自动排序的功能
</span><span class="cm">    * 每次取出队头元素，存入队头元素*2、队头元素*3、队头元素*5
</span><span class="cm">    * 但注意，像12这个元素，可由4乘3得到，也可由6乘2得到，所以要注意去重
</span><span class="cm">    * */</span>
    <span class="kd">public</span> <span class="kt">int</span> <span class="nf">nthUglyNumber1</span><span class="o">(</span><span class="kt">int</span> <span class="n">n</span><span class="o">)</span> <span class="o">{</span>

        <span class="n">PriorityQueue</span><span class="o">&lt;</span><span class="n">Long</span><span class="o">&gt;</span> <span class="n">queue</span> <span class="o">=</span> <span class="k">new</span> <span class="n">PriorityQueue</span><span class="o">&lt;&gt;();</span>

        <span class="kt">long</span> <span class="n">answer</span> <span class="o">=</span> <span class="n">1</span><span class="o">;</span>
        <span class="k">for</span> <span class="o">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="n">1</span><span class="o">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">n</span><span class="o">;</span> <span class="n">i</span><span class="o">++)</span> <span class="o">{</span>
            <span class="n">queue</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="n">answer</span> <span class="o">*</span> <span class="n">2</span><span class="o">);</span>
            <span class="n">queue</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="n">answer</span> <span class="o">*</span> <span class="n">3</span><span class="o">);</span>
            <span class="n">queue</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="n">answer</span> <span class="o">*</span> <span class="n">5</span><span class="o">);</span>

            <span class="n">answer</span> <span class="o">=</span> <span class="n">queue</span><span class="o">.</span><span class="na">remove</span><span class="o">();</span>
            <span class="k">while</span> <span class="o">(!</span><span class="n">queue</span><span class="o">.</span><span class="na">isEmpty</span><span class="o">()</span> <span class="o">&amp;&amp;</span> <span class="n">queue</span><span class="o">.</span><span class="na">peek</span><span class="o">()</span> <span class="o">==</span> <span class="n">answer</span><span class="o">)</span> <span class="n">queue</span><span class="o">.</span><span class="na">remove</span><span class="o">();</span>
        <span class="o">}</span>

        <span class="k">return</span> <span class="o">(</span><span class="kt">int</span><span class="o">)</span><span class="n">answer</span><span class="o">;</span>
    <span class="o">}</span>

</code></pre></td></tr></table>
</div>
</div><p><img src="https://tva1.sinaimg.cn/large/007S8ZIlly1gfavoq3glej30nu07awfb.jpg" alt="截屏2020-05-30下午10.57.00"></p>
<h4 id="思路二-1">思路二：</h4>
<p>对思路一的优化， 用set去重复</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-java" data-lang="java">    <span class="cm">/*
</span><span class="cm">    * 进一步使用 set 优化 去重
</span><span class="cm">    * */</span>
    <span class="kd">public</span> <span class="kt">int</span> <span class="nf">nthUglyNumber2</span><span class="o">(</span><span class="kt">int</span> <span class="n">n</span><span class="o">)</span> <span class="o">{</span>

        <span class="n">PriorityQueue</span><span class="o">&lt;</span><span class="n">Long</span><span class="o">&gt;</span> <span class="n">queue</span> <span class="o">=</span> <span class="k">new</span> <span class="n">PriorityQueue</span><span class="o">&lt;&gt;();</span>
        <span class="n">HashSet</span><span class="o">&lt;</span><span class="n">Long</span><span class="o">&gt;</span> <span class="n">set</span> <span class="o">=</span> <span class="k">new</span> <span class="n">HashSet</span><span class="o">&lt;&gt;();</span>
        <span class="kt">int</span><span class="o">[]</span> <span class="n">nums</span> <span class="o">=</span> <span class="o">{</span><span class="n">2</span><span class="o">,</span><span class="n">3</span><span class="o">,</span><span class="n">5</span><span class="o">};</span>

        <span class="kt">long</span> <span class="n">answer</span> <span class="o">=</span> <span class="n">1</span><span class="o">;</span>
        <span class="k">for</span> <span class="o">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="n">1</span><span class="o">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">n</span><span class="o">;</span> <span class="n">i</span><span class="o">++)</span> <span class="o">{</span>
            <span class="kt">long</span> <span class="n">tmp</span> <span class="o">=</span> <span class="n">queue</span><span class="o">.</span><span class="na">peek</span><span class="o">();</span>
            <span class="k">for</span> <span class="o">(</span><span class="kt">int</span> <span class="n">j</span> <span class="o">=</span> <span class="n">0</span><span class="o">;</span> <span class="n">j</span> <span class="o">&lt;</span> <span class="n">nums</span><span class="o">.</span><span class="na">length</span><span class="o">;</span> <span class="n">j</span><span class="o">++)</span> <span class="o">{</span>
                <span class="k">if</span> <span class="o">(</span><span class="n">set</span><span class="o">.</span><span class="na">contains</span><span class="o">(</span><span class="n">nums</span><span class="o">[</span><span class="n">i</span><span class="o">]</span> <span class="o">*</span> <span class="n">tmp</span><span class="o">)){</span>
                    <span class="n">set</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="n">nums</span><span class="o">[</span><span class="n">i</span><span class="o">]</span> <span class="o">*</span> <span class="n">tmp</span><span class="o">);</span>
                    <span class="n">queue</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="n">nums</span><span class="o">[</span><span class="n">i</span><span class="o">]</span> <span class="o">*</span> <span class="n">tmp</span><span class="o">);</span>
                <span class="o">}</span>
            <span class="o">}</span>
            <span class="n">answer</span> <span class="o">=</span> <span class="n">queue</span><span class="o">.</span><span class="na">remove</span><span class="o">();</span>
        <span class="o">}</span>
        <span class="k">return</span> <span class="o">(</span><span class="kt">int</span><span class="o">)</span><span class="n">answer</span><span class="o">;</span>
    <span class="o">}</span>
</code></pre></td></tr></table>
</div>
</div><p><img src="https://tva1.sinaimg.cn/large/007S8ZIlly1gfavpdmontj30p406ujs6.jpg" alt="截屏2020-05-30下午11.03.43"></p>
<h4 id="思路三-1">思路三：</h4>
<ul>
<li>动态规划，三指针法</li>
<li>起初三个指针都指向数组0的位置</li>
<li>当数组的下一个是 *2 得来时, p2 ++, *3得来时，p3++, *5得来时，p5++</li>
<li>注意去重， 有可能下一个数字即是 * 2得来，又是 * 3得来时，p2 和 p3都需要 ++</li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-java" data-lang="java">    <span class="cm">/*
</span><span class="cm">     *
</span><span class="cm">     * 思路三：
</span><span class="cm">     * 动态规划 三指针法
</span><span class="cm">     * 起初三根指针都指向数组 0 位置
</span><span class="cm">     * 当数组的下一个是 *2 得出时， p2++, *3 得出时， p3++, *5 得出时， p5++
</span><span class="cm">     * 注意有可能，同时是 2 和 3的公倍数， 比如6， 当下一个为6时， p2 和 p3同时 ++
</span><span class="cm">     * */</span>
    <span class="kd">public</span> <span class="kt">int</span> <span class="nf">nthUglyNumber</span><span class="o">(</span><span class="kt">int</span> <span class="n">n</span><span class="o">)</span> <span class="o">{</span>
        <span class="kt">int</span> <span class="n">p2</span> <span class="o">=</span> <span class="n">0</span><span class="o">,</span> <span class="n">p3</span> <span class="o">=</span> <span class="n">0</span><span class="o">,</span> <span class="n">p5</span> <span class="o">=</span> <span class="n">0</span><span class="o">;</span>
        <span class="kt">int</span><span class="o">[]</span> <span class="n">dp</span> <span class="o">=</span> <span class="k">new</span> <span class="kt">int</span><span class="o">[</span><span class="n">n</span><span class="o">];</span>
        <span class="n">dp</span><span class="o">[</span><span class="n">0</span><span class="o">]</span> <span class="o">=</span> <span class="n">1</span><span class="o">;</span>
        <span class="k">for</span> <span class="o">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="n">1</span><span class="o">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">n</span><span class="o">;</span> <span class="n">i</span><span class="o">++)</span> <span class="o">{</span>
            <span class="n">dp</span><span class="o">[</span><span class="n">i</span><span class="o">]</span> <span class="o">=</span> <span class="n">Math</span><span class="o">.</span><span class="na">min</span><span class="o">(</span><span class="n">Math</span><span class="o">.</span><span class="na">min</span><span class="o">(</span><span class="n">dp</span><span class="o">[</span><span class="n">p2</span><span class="o">]</span> <span class="o">*</span> <span class="n">2</span><span class="o">,</span> <span class="n">dp</span><span class="o">[</span><span class="n">p3</span><span class="o">]</span> <span class="o">*</span> <span class="n">3</span><span class="o">),</span> <span class="n">dp</span><span class="o">[</span><span class="n">p5</span><span class="o">]</span> <span class="o">*</span> <span class="n">5</span><span class="o">);</span>

            <span class="k">if</span> <span class="o">(</span><span class="n">dp</span><span class="o">[</span><span class="n">i</span><span class="o">]</span> <span class="o">==</span> <span class="n">dp</span><span class="o">[</span><span class="n">p2</span><span class="o">]</span> <span class="o">*</span> <span class="n">2</span><span class="o">)</span> <span class="n">p2</span> <span class="o">++;</span>
            <span class="k">if</span> <span class="o">(</span><span class="n">dp</span><span class="o">[</span><span class="n">i</span><span class="o">]</span> <span class="o">==</span> <span class="n">dp</span><span class="o">[</span><span class="n">p3</span><span class="o">]</span> <span class="o">*</span> <span class="n">3</span><span class="o">)</span> <span class="n">p3</span> <span class="o">++;</span>
            <span class="k">if</span> <span class="o">(</span><span class="n">dp</span><span class="o">[</span><span class="n">i</span><span class="o">]</span> <span class="o">==</span> <span class="n">dp</span><span class="o">[</span><span class="n">p5</span><span class="o">]</span> <span class="o">*</span> <span class="n">5</span><span class="o">)</span> <span class="n">p5</span> <span class="o">++;</span>
        <span class="o">}</span>
        <span class="k">return</span> <span class="n">dp</span><span class="o">[</span><span class="n">n</span> <span class="o">-</span> <span class="n">1</span><span class="o">];</span>
    <span class="o">}</span>
</code></pre></td></tr></table>
</div>
</div><p><img src="https://tva1.sinaimg.cn/large/007S8ZIlly1gfavsm5otcj30ny06edgl.jpg" alt="截屏2020-05-30下午11.06.48"></p>
<h2 id="1201-丑数-iiihttpsleetcode-cncomproblemsugly-number-iii"><a href="https://leetcode-cn.com/problems/ugly-number-iii/">1201. 丑数 III</a></h2>
<blockquote>
<p>请你帮忙设计一个程序，用来找出第 n 个丑数。</p>
<p>丑数是可以被 a 或 b 或 c 整除的 正整数。</p>
<p>示例 1：</p>
<p>输入：n = 3, a = 2, b = 3, c = 5
输出：4
解释：丑数序列为 2, 3, 4, 5, 6, 8, 9, 10&hellip; 其中第 3 个是 4。
示例 2：</p>
<p>输入：n = 4, a = 2, b = 3, c = 4
输出：6
解释：丑数序列为 2, 3, 4, 6, 8, 9, 12&hellip; 其中第 4 个是 6。
示例 3：</p>
<p>输入：n = 5, a = 2, b = 11, c = 13
输出：10
解释：丑数序列为 2, 4, 6, 8, 10, 11, 12, 13&hellip; 其中第 5 个是 10。
示例 4：</p>
<p>输入：n = 1000000000, a = 2, b = 217983653, c = 336916467
输出：1999999984</p>
<p>提示：</p>
<p>1 &lt;= n, a, b, c &lt;= 10^9
1 &lt;= a * b * c &lt;= 10^18
本题结果在 [1, 2 * 10^9] 的范围内</p>
<p>来源：力扣（LeetCode）
链接：https://leetcode-cn.com/problems/ugly-number-iii
著作权归领扣网络所有。商业转载请联系官方授权，非商业转载请注明出处。</p>
</blockquote>
<h3 id="题解-2">题解：</h3>
<p>拿到题目只想到， 递推去算下一个丑数，算到末尾，看是否N是不是丑数。</p>
<p>算了半天，还超时了。 想不到思路，去查看题解中思路。</p>
<p>以下是 题解区域<strong>大神思路</strong></p>
<blockquote>
<p>基础思路</p>
<p>首先，为什么第一时间能想到二分法？</p>
<p>让我们观察题目，可以看到，最终状态(即n)的范围非常大。试图自底向上递推或是按照通常的自顶向下回溯显然会超时(比如动态规划、DFS等方法)</p>
<p>面对这么大的状态空间，二分法的时间复杂度是logN,因此能够大大压缩需要遍历的状态数目</p>
<p>思路剖析</p>
<p>既然已经确定了二分法作为切入点，关键问题来了，如何二分呢？</p>
<p>按照题意，所谓丑数是可以至少被a、b、c三者中的一者整除的，那么对于一个丑数X，我们能够确定它是第几个丑数吗？</p>
<p>&ndash;答案显然是可以的，我们只需要计算X中包含了多少个丑数因子即可。</p>
<p>即只需要知道在[0,X]范围内,还有多少个丑数即可，而这些丑数，无非就是一些能被a或者b或者c所整除的数。</p>
<p>那么显然，我们直接用X/a、X/b、X/c就能计算出[0,X]范围内有多少数能被a或者b或者c整除，然后把它们加起来就是答案！</p>
<p>但是仔细思考一下，我们是不是重复计算了些什么？如果一个数既能被a整除，又能被b整除，那么实际上该数在先前的计算中就被重复计算了一次(分别是在计算X/a和X/b时)。</p>
<p>&ndash;好吧，让我们思考所有可能的情况</p>
<p>1.该数只能被a整除 (该数一定是a 的整数倍)</p>
<p>2.该数只能被b整除 (该数一定是b 的整数倍)</p>
<p>3.该数只能被c整除 (该数一定是c 的整数倍)</p>
<p>4.该数只能被a和b同时整除 (该数一定是a、b最小公倍数的整数倍)</p>
<p>5.该数只能被a和c同时整除 (该数一定是a、c最小公倍数的整数倍)</p>
<p>6.该数只能被b和c同时整除 (该数一定是b、c最小公倍数的整数倍)</p>
<p>7.该数只能被a和b和c同时整除（该数一定是a、b、c的最小公倍数的整数倍）</p>
<p>所以，我们只需要分别计算以上七项就能得到结果了！让我们分别来看（用MCM+下标表示最小公倍数）：</p>
<p>情况1 = X/a - 情况4 - 情况5 - 情况7
情况2 = X/b - 情况4 - 情况6 - 情况7
情况3 = X/c - 情况5 - 情况6 - 情况7
情况4 = X/MCM_a_b - 情况7
情况5 = X/MCM_a_c - 情况7
情况6 = X/MCM_b_c - 情况7
情况7 = X/MCM_a_b_c</p>
<p>让我们整理上述方程后也就得到：</p>
<p>sum(情况) = X/a + X/b + X/c - X/MCM_a_b - X/MCM_a_c - X/MCM_b_c + X/MCM_a_b_c</p>
<p>好了，现在也就得到了计算X中包含多少个丑数因子的方法了！</p>
<p>至于计算最小公倍数的方法，这里不多介绍，概括而言就是对于两个数a和b，它们的最小公倍数 = a*b/(a和b的最大公约数)，最大公约数可以通过辗转相除法得到</p>
<p>二分搜索</p>
<p>在得到了计算任意数中包含了多少个丑数因子的方法后，我们实际上只需要通过二分法，不断缩小边界范围，直到某个位置所对应的数恰好包含了n个丑数因子为止。</p>
<p>注意，通过二分法计算的答案并非是最终答案，因为可以有很多数同时包含有n个丑数因子！</p>
<p>比如第n个丑数是X，那么[X,X + min(a,b,c))这个半开区间内的所有数都同时包含n个丑数因子，我们通过二分法得到的答案也随机分布于这个区间中。而实际上我们只需要得到该区间的左端即可。处理方法很简单：假设我们得到的临时答案是K(K∈[X,X + min(a,b,c))),那么K - min(K%a,K%b,K%c) = X.也就是只需要把临时答案减去其与a、b、c三者中取余的最小值即可！</p>
<p>作者：Alfeim
链接：https://leetcode-cn.com/problems/ugly-number-iii/solution/er-fen-fa-si-lu-pou-xi-by-alfeim/
来源：力扣（LeetCode）
著作权归作者所有。商业转载请联系作者获得授权，非商业转载请注明出处。</p>
</blockquote>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span><span class="lnt">32
</span><span class="lnt">33
</span><span class="lnt">34
</span><span class="lnt">35
</span><span class="lnt">36
</span><span class="lnt">37
</span><span class="lnt">38
</span><span class="lnt">39
</span><span class="lnt">40
</span><span class="lnt">41
</span><span class="lnt">42
</span><span class="lnt">43
</span><span class="lnt">44
</span><span class="lnt">45
</span><span class="lnt">46
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-java" data-lang="java"><span class="kd">public</span> <span class="kd">static</span> <span class="kt">int</span> <span class="nf">nthUglyNumber</span><span class="o">(</span><span class="kt">int</span> <span class="n">n</span><span class="o">,</span> <span class="kt">int</span> <span class="n">a</span><span class="o">,</span> <span class="kt">int</span> <span class="n">b</span><span class="o">,</span> <span class="kt">int</span> <span class="n">c</span><span class="o">)</span> <span class="o">{</span>
    <span class="c1">// 看到 n 的范围就应该想到二分
</span><span class="c1"></span>    <span class="kt">long</span> <span class="n">low</span> <span class="o">=</span> <span class="n">Math</span><span class="o">.</span><span class="na">min</span><span class="o">(</span><span class="n">Math</span><span class="o">.</span><span class="na">min</span><span class="o">(</span><span class="n">a</span><span class="o">,</span> <span class="n">b</span><span class="o">),</span> <span class="n">c</span><span class="o">);</span>

    <span class="kt">long</span> <span class="n">high</span> <span class="o">=</span> <span class="n">low</span> <span class="o">*</span> <span class="n">n</span><span class="o">;</span>

    <span class="kt">long</span> <span class="n">res</span> <span class="o">=</span> <span class="n">binarySearch</span><span class="o">(</span><span class="n">low</span><span class="o">,</span> <span class="n">high</span><span class="o">,</span> <span class="n">a</span><span class="o">,</span> <span class="n">b</span><span class="o">,</span> <span class="n">c</span><span class="o">,</span> <span class="n">n</span><span class="o">);</span>
    <span class="kt">long</span> <span class="n">cnta</span> <span class="o">=</span> <span class="n">res</span> <span class="o">%</span> <span class="n">a</span><span class="o">;</span>
    <span class="kt">long</span> <span class="n">cntb</span> <span class="o">=</span> <span class="n">res</span> <span class="o">%</span> <span class="n">b</span><span class="o">;</span>
    <span class="kt">long</span> <span class="n">cntc</span> <span class="o">=</span> <span class="n">res</span> <span class="o">%</span> <span class="n">c</span><span class="o">;</span>
    <span class="n">res</span> <span class="o">-=</span> <span class="n">Math</span><span class="o">.</span><span class="na">min</span><span class="o">(</span><span class="n">cnta</span><span class="o">,</span> <span class="n">Math</span><span class="o">.</span><span class="na">min</span><span class="o">(</span><span class="n">cntb</span><span class="o">,</span> <span class="n">cntc</span><span class="o">));</span>

    <span class="k">return</span> <span class="o">(</span><span class="kt">int</span><span class="o">)</span> <span class="n">res</span><span class="o">;</span>
<span class="o">}</span>


<span class="kd">public</span> <span class="kd">static</span> <span class="kt">long</span> <span class="nf">binarySearch</span><span class="o">(</span><span class="kt">long</span> <span class="n">low</span> <span class="o">,</span> <span class="kt">long</span> <span class="n">high</span><span class="o">,</span> <span class="kt">int</span> <span class="n">a</span><span class="o">,</span> <span class="kt">int</span> <span class="n">b</span><span class="o">,</span> <span class="kt">int</span> <span class="n">c</span><span class="o">,</span> <span class="kt">long</span> <span class="n">n</span><span class="o">){</span>
    <span class="k">if</span> <span class="o">(</span><span class="n">low</span> <span class="o">&gt;=</span> <span class="n">high</span><span class="o">)</span> <span class="k">return</span> <span class="n">low</span><span class="o">;</span>

    <span class="kt">long</span> <span class="n">mid</span> <span class="o">=</span> <span class="o">(</span><span class="n">low</span> <span class="o">+</span> <span class="n">high</span><span class="o">)</span> <span class="o">&gt;&gt;</span> <span class="n">1</span><span class="o">;</span>

    <span class="kt">long</span> <span class="n">MCM_a_b</span> <span class="o">=</span> <span class="n">MCM</span><span class="o">(</span><span class="n">a</span><span class="o">,</span> <span class="n">b</span><span class="o">);</span>
    <span class="kt">long</span> <span class="n">MCM_a_c</span> <span class="o">=</span> <span class="n">MCM</span><span class="o">(</span><span class="n">a</span><span class="o">,</span> <span class="n">c</span><span class="o">);</span>
    <span class="kt">long</span> <span class="n">MCM_b_c</span> <span class="o">=</span> <span class="n">MCM</span><span class="o">(</span><span class="n">b</span><span class="o">,</span> <span class="n">c</span><span class="o">);</span>

    <span class="kt">long</span> <span class="n">MCM_a_b_c</span> <span class="o">=</span> <span class="n">MCM</span><span class="o">(</span><span class="n">MCM_a_b</span><span class="o">,</span> <span class="n">c</span><span class="o">);</span>

    <span class="kt">long</span> <span class="n">count</span> <span class="o">=</span> <span class="n">mid</span> <span class="o">/</span> <span class="n">a</span> <span class="o">+</span> <span class="n">mid</span> <span class="o">/</span> <span class="n">b</span> <span class="o">+</span> <span class="n">mid</span> <span class="o">/</span> <span class="n">c</span> <span class="o">-</span> <span class="n">mid</span> <span class="o">/</span> <span class="n">MCM_a_b</span> <span class="o">-</span> <span class="n">mid</span> <span class="o">/</span> <span class="n">MCM_a_c</span> <span class="o">-</span> <span class="n">mid</span> <span class="o">/</span> <span class="n">MCM_b_c</span> <span class="o">+</span> <span class="n">mid</span> <span class="o">/</span> <span class="n">MCM_a_b_c</span><span class="o">;</span>

    <span class="k">if</span> <span class="o">(</span><span class="n">count</span> <span class="o">==</span> <span class="n">n</span><span class="o">)</span> <span class="k">return</span> <span class="n">mid</span><span class="o">;</span>

    <span class="k">if</span> <span class="o">(</span><span class="n">count</span> <span class="o">&gt;</span> <span class="n">n</span><span class="o">)</span> <span class="k">return</span> <span class="n">binarySearch</span><span class="o">(</span><span class="n">low</span><span class="o">,</span> <span class="n">mid</span> <span class="o">-</span> <span class="n">1</span><span class="o">,</span> <span class="n">a</span><span class="o">,</span> <span class="n">b</span><span class="o">,</span> <span class="n">c</span><span class="o">,</span> <span class="n">n</span><span class="o">);</span>
    <span class="k">return</span> <span class="n">binarySearch</span><span class="o">(</span><span class="n">mid</span> <span class="o">+</span> <span class="n">1</span><span class="o">,</span> <span class="n">high</span><span class="o">,</span> <span class="n">a</span><span class="o">,</span> <span class="n">b</span><span class="o">,</span> <span class="n">c</span><span class="o">,</span> <span class="n">n</span><span class="o">);</span>
<span class="o">}</span>

<span class="c1">// 求最小公倍数 : 两数相乘 除以 最小公约数
</span><span class="c1"></span><span class="kd">public</span> <span class="kd">static</span> <span class="kt">long</span> <span class="nf">MCM</span><span class="o">(</span><span class="kt">long</span> <span class="n">m</span><span class="o">,</span> <span class="kt">long</span> <span class="n">n</span><span class="o">){</span>

    <span class="kt">long</span> <span class="n">Multi</span> <span class="o">=</span> <span class="n">m</span> <span class="o">*</span> <span class="n">n</span><span class="o">;</span>
    <span class="k">while</span> <span class="o">(</span><span class="n">n</span> <span class="o">&gt;</span> <span class="n">0</span><span class="o">){</span>
        <span class="kt">long</span> <span class="n">tmp</span> <span class="o">=</span> <span class="n">m</span> <span class="o">%</span> <span class="n">n</span><span class="o">;</span>
        <span class="n">m</span> <span class="o">=</span> <span class="n">n</span><span class="o">;</span>
        <span class="n">n</span> <span class="o">=</span> <span class="n">tmp</span><span class="o">;</span>
    <span class="o">}</span>
    <span class="k">return</span> <span class="n">Multi</span> <span class="o">/</span> <span class="n">m</span><span class="o">;</span>
<span class="o">}</span>
</code></pre></td></tr></table>
</div>
</div><h2 id="313-超级丑数httpsleetcode-cncomproblemssuper-ugly-number"><a href="https://leetcode-cn.com/problems/super-ugly-number/">313. 超级丑数</a></h2>
<blockquote>
<p>编写一段程序来查找第 n 个超级丑数。</p>
<p>超级丑数是指其所有质因数都是长度为 k 的质数列表 primes 中的正整数。</p>
<p>示例:</p>
<p>输入: n = 12, primes = [2,7,13,19]
输出: 32
解释: 给定长度为 4 的质数列表 primes = [2,7,13,19]，前 12 个超级丑数序列为：[1,2,4,7,8,13,14,16,19,26,28,32] 。
说明:</p>
<p>1 是任何给定 primes 的超级丑数。
给定 primes 中的数字以升序排列。
0 &lt; k ≤ 100, 0 &lt; n ≤ 106, 0 &lt; primes[i] &lt; 1000 。
第 n 个超级丑数确保在 32 位有符整数范围内。</p>
<p>来源：力扣（LeetCode）
链接：https://leetcode-cn.com/problems/super-ugly-number
著作权归领扣网络所有。商业转载请联系官方授权，非商业转载请注明出处。</p>
</blockquote>
<h3 id="题解-3">题解：</h3>
<h4 id="思路一-2">思路一：</h4>
<p>动态规划</p>
<ul>
<li>此题目与 264 不一样的地方，在于此题质数在数组中，不确定。而264质数就是2 3 5三个</li>
<li>使用动态规划, 264三个指针足以。 而此题需要指数数组中元素个数数量的指针</li>
<li>所以除了使用 dp 数组以外，还需要一个 pointers 数组，用来存放与质数数组对应的位置指针指向的位置</li>
<li>代码思路，跟264 基本类似</li>
<li>依然需要注意,  同一个丑数，可能同时由两个质数 * 其dp对应位置得出， 所以需要去重！</li>
</ul>
<p>代码如下:</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-java" data-lang="java"><span class="kd">public</span> <span class="kt">int</span> <span class="nf">nthSuperUglyNumber</span><span class="o">(</span><span class="kt">int</span> <span class="n">n</span><span class="o">,</span> <span class="kt">int</span><span class="o">[]</span> <span class="n">primes</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">if</span> <span class="o">(</span><span class="n">n</span> <span class="o">&lt;=</span> <span class="n">1</span><span class="o">)</span> <span class="k">return</span> <span class="n">1</span><span class="o">;</span>

        <span class="c1">// 存放 primes 对应位置的数字 指针指向的位置
</span><span class="c1"></span>        <span class="kt">int</span><span class="o">[]</span> <span class="n">pointers</span> <span class="o">=</span> <span class="k">new</span> <span class="kt">int</span><span class="o">[</span><span class="n">primes</span><span class="o">.</span><span class="na">length</span><span class="o">];</span>

        <span class="kt">int</span><span class="o">[]</span> <span class="n">dp</span> <span class="o">=</span> <span class="k">new</span> <span class="kt">int</span><span class="o">[</span><span class="n">n</span><span class="o">];</span>
        <span class="n">dp</span><span class="o">[</span><span class="n">0</span><span class="o">]</span> <span class="o">=</span> <span class="n">1</span><span class="o">;</span>
        <span class="k">for</span> <span class="o">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="n">1</span><span class="o">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">n</span><span class="o">;</span> <span class="n">i</span><span class="o">++)</span> <span class="o">{</span>
            <span class="kt">int</span> <span class="n">next</span> <span class="o">=</span> <span class="n">Integer</span><span class="o">.</span><span class="na">MAX_VALUE</span><span class="o">;</span>
            <span class="k">for</span> <span class="o">(</span><span class="kt">int</span> <span class="n">j</span> <span class="o">=</span> <span class="n">0</span><span class="o">;</span> <span class="n">j</span> <span class="o">&lt;</span> <span class="n">primes</span><span class="o">.</span><span class="na">length</span><span class="o">;</span> <span class="n">j</span><span class="o">++)</span> <span class="o">{</span>
                <span class="n">next</span> <span class="o">=</span> <span class="n">Math</span><span class="o">.</span><span class="na">min</span><span class="o">(</span><span class="n">next</span><span class="o">,</span> <span class="n">primes</span><span class="o">[</span><span class="n">j</span><span class="o">]</span> <span class="o">*</span> <span class="n">dp</span><span class="o">[</span><span class="n">pointers</span><span class="o">[</span><span class="n">j</span><span class="o">]]);</span>
            <span class="o">}</span>

            <span class="n">dp</span><span class="o">[</span><span class="n">i</span><span class="o">]</span> <span class="o">=</span> <span class="n">next</span><span class="o">;</span>

            <span class="k">for</span> <span class="o">(</span><span class="kt">int</span> <span class="n">j</span> <span class="o">=</span> <span class="n">0</span><span class="o">;</span> <span class="n">j</span> <span class="o">&lt;</span> <span class="n">pointers</span><span class="o">.</span><span class="na">length</span><span class="o">;</span> <span class="n">j</span><span class="o">++)</span> <span class="o">{</span>
                <span class="k">if</span> <span class="o">(</span><span class="n">next</span> <span class="o">==</span> <span class="n">primes</span><span class="o">[</span><span class="n">j</span><span class="o">]</span> <span class="o">*</span> <span class="n">dp</span><span class="o">[</span><span class="n">pointers</span><span class="o">[</span><span class="n">j</span><span class="o">]])</span> <span class="n">pointers</span><span class="o">[</span><span class="n">j</span><span class="o">]++;</span>
            <span class="o">}</span>

        <span class="o">}</span>
        <span class="k">return</span> <span class="n">dp</span><span class="o">[</span><span class="n">n</span> <span class="o">-</span> <span class="n">1</span><span class="o">];</span>
    <span class="o">}</span>
</code></pre></td></tr></table>
</div>
</div><p><img src="https://tva1.sinaimg.cn/large/007S8ZIlly1gfaw58djhnj30ns06m0t5.jpg" alt="截屏2020-05-30下午11.25.20"></p>

    </div>

    <div class="post-copyright">
  <p class="copyright-item">
    <span class="item-title">Author</span>
    <span class="item-content">飞熊</span>
  </p>
  <p class="copyright-item">
    <span class="item-title">LastMod</span>
    <span class="item-content">
        May 30
        
    </span>
  </p>
  
  
</div>
<footer class="post-footer">
      <div class="post-tags">
          <a href="/tags/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/">数据结构</a>
          <a href="/tags/%E4%BA%8C%E5%8F%89%E5%A0%86/">二叉堆</a>
          <a href="/tags/%E5%8A%A8%E6%80%81%E8%A7%84%E5%88%92/">动态规划</a>
          <a href="/tags/%E7%AE%97%E6%B3%95/">算法</a>
          <a href="/tags/%E5%9B%A2%E7%81%AD%E7%B3%BB%E5%88%97/">团灭系列</a>
          </div>
      <nav class="post-nav">
        <a class="prev" href="/post/40.%E6%9C%80%E5%B0%8F%E7%9A%84k%E4%B8%AA%E6%95%B0/">
            <i class="iconfont icon-left"></i>
            <span class="prev-text nav-default">40.最小的k个数</span>
            <span class="prev-text nav-mobile">Prev</span>
          </a>
        <a class="next" href="/post/%E4%BA%8C%E5%8F%89%E5%A0%86/">
            <span class="next-text nav-default">二叉堆</span>
            <span class="next-text nav-mobile">Next</span>
            <i class="iconfont icon-right"></i>
          </a>
      </nav>
    </footer>
  </article>
        </div>
        

  

  

      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="social-links">
      <a href="310311589@qq.com" class="iconfont icon-email" title="email"></a>
      <a href="https://github.com/zhangxiongfeiv" class="iconfont icon-github" title="github"></a>
      <a href="https://leetcode-cn.com/u/zhangxiongfei/" class="iconfont icon-leetcode" title="leetcode"></a>
  <a href="https://zhangxiongfeiv.github.io/index.xml" type="application/rss+xml" class="iconfont icon-rss" title="rss"></a>
</div>

<div class="copyright">
  <span class="power-by">
    Powered by <a class="hexo-link" href="https://gohugo.io">Hugo</a>
  </span>
  <span class="division">|</span>
  <span class="theme-info">
    Theme - 
    <a class="theme-link" href="https://github.com/olOwOlo/hugo-theme-even">Even</a>
  </span>

  

  <span class="copyright-year">
    &copy; 
    2017 - 
    2020
    <span class="heart">
      <i class="iconfont icon-heart"></i>
    </span>
    <span class="author">飞熊</span>
  </span>
</div>
    </footer>

    <div class="back-to-top" id="back-to-top">
      <i class="iconfont icon-up"></i>
    </div>
  </div>
  
  <script src="https://cdn.jsdelivr.net/npm/jquery@3.2.1/dist/jquery.min.js" integrity="sha256-hwg4gsxgFZhOsEEamdOYGBf13FyQuiTwlAQgxVSNgt4=" crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/slideout@1.0.1/dist/slideout.min.js" integrity="sha256-t+zJ/g8/KXIJMjSVQdnibt4dlaDxc9zXr/9oNPeWqdg=" crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@3.1.20/dist/jquery.fancybox.min.js" integrity="sha256-XVLffZaxoWfGUEbdzuLi7pwaUJv1cecsQJQqGLe7axY=" crossorigin="anonymous"></script>



<script type="text/javascript" src="/js/main.min.d7b7ada643c9c1a983026e177f141f7363b4640d619caf01d8831a6718cd44ea.js"></script>








</body>
</html>
