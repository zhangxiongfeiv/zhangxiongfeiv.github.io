<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
  <title>åŸå‹æ¨¡å¼,æ·±æ‹·è´,æµ…æ‹·è´ - APIè°ƒç”¨å·¥ç¨‹å¸ˆçš„è¿›é˜¶</title>
  <meta name="renderer" content="webkit" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>

<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />

<meta name="theme-color" content="#f8f5ec" />
<meta name="msapplication-navbutton-color" content="#f8f5ec">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="#f8f5ec">


<meta name="author" content="é£ç†Š" /><meta name="description" content="åŸå‹æ¨¡å¼ æœ¬æ–‡æ¦‚å¿µä¸»è¦æ‘˜å–ä¹¦ç±**ã€Šå¤§è¯è®¾è®¡æ¨¡å¼ã€‹**, ObjCçš„æ·±æµ…æ‹·è´ä¸»è¦æ˜¯å¯¹**ã€Šè‹¹æœå¼€å‘æ–‡æ¡£ ã€‹**ç›¸å…³å†…å®¹çš„ç†è§£å’Œç¿»è¯‘ï¼Œä»¥åŠå†™ä»£ç è¿›è¡Œ" /><meta name="keywords" content="iOS, ç®—æ³•, Blog" />






<meta name="generator" content="Hugo 0.68.3 with theme even" />


<link rel="canonical" href="https://zhxiongfei.github.io/post/%E5%8E%9F%E5%9E%8B%E6%A8%A1%E5%BC%8F%E6%B7%B1%E6%8B%B7%E8%B4%9D%E6%B5%85%E6%8B%B7%E8%B4%9D/" />
<link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
<link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
<link rel="manifest" href="/manifest.json">
<link rel="mask-icon" href="/safari-pinned-tab.svg" color="#5bbad5">



<link href="/sass/main.min.e23b16f70676ed692f169c65f07230cd9d3e790a4b5b15dc32b1ee36e7604994.css" rel="stylesheet">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@3.1.20/dist/jquery.fancybox.min.css" integrity="sha256-7TyXnr2YU040zfSP+rEcz29ggW4j56/ujTPwjMzyqFY=" crossorigin="anonymous">


<meta property="og:title" content="åŸå‹æ¨¡å¼,æ·±æ‹·è´,æµ…æ‹·è´" />
<meta property="og:description" content="åŸå‹æ¨¡å¼ æœ¬æ–‡æ¦‚å¿µä¸»è¦æ‘˜å–ä¹¦ç±**ã€Šå¤§è¯è®¾è®¡æ¨¡å¼ã€‹**, ObjCçš„æ·±æµ…æ‹·è´ä¸»è¦æ˜¯å¯¹**ã€Šè‹¹æœå¼€å‘æ–‡æ¡£ ã€‹**ç›¸å…³å†…å®¹çš„ç†è§£å’Œç¿»è¯‘ï¼Œä»¥åŠå†™ä»£ç è¿›è¡Œ" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://zhxiongfei.github.io/post/%E5%8E%9F%E5%9E%8B%E6%A8%A1%E5%BC%8F%E6%B7%B1%E6%8B%B7%E8%B4%9D%E6%B5%85%E6%8B%B7%E8%B4%9D/" />
<meta property="article:published_time" content="2020-07-14T11:54:29+08:00" />
<meta property="article:modified_time" content="2020-07-14T11:54:29+08:00" />
<meta itemprop="name" content="åŸå‹æ¨¡å¼,æ·±æ‹·è´,æµ…æ‹·è´">
<meta itemprop="description" content="åŸå‹æ¨¡å¼ æœ¬æ–‡æ¦‚å¿µä¸»è¦æ‘˜å–ä¹¦ç±**ã€Šå¤§è¯è®¾è®¡æ¨¡å¼ã€‹**, ObjCçš„æ·±æµ…æ‹·è´ä¸»è¦æ˜¯å¯¹**ã€Šè‹¹æœå¼€å‘æ–‡æ¡£ ã€‹**ç›¸å…³å†…å®¹çš„ç†è§£å’Œç¿»è¯‘ï¼Œä»¥åŠå†™ä»£ç è¿›è¡Œ">
<meta itemprop="datePublished" content="2020-07-14T11:54:29&#43;08:00" />
<meta itemprop="dateModified" content="2020-07-14T11:54:29&#43;08:00" />
<meta itemprop="wordCount" content="3886">



<meta itemprop="keywords" content="è®¾è®¡æ¨¡å¼,iOS," /><meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="åŸå‹æ¨¡å¼,æ·±æ‹·è´,æµ…æ‹·è´"/>
<meta name="twitter:description" content="åŸå‹æ¨¡å¼ æœ¬æ–‡æ¦‚å¿µä¸»è¦æ‘˜å–ä¹¦ç±**ã€Šå¤§è¯è®¾è®¡æ¨¡å¼ã€‹**, ObjCçš„æ·±æµ…æ‹·è´ä¸»è¦æ˜¯å¯¹**ã€Šè‹¹æœå¼€å‘æ–‡æ¡£ ã€‹**ç›¸å…³å†…å®¹çš„ç†è§£å’Œç¿»è¯‘ï¼Œä»¥åŠå†™ä»£ç è¿›è¡Œ"/>

<!--[if lte IE 9]>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/classlist/1.1.20170427/classList.min.js"></script>
<![endif]-->

<!--[if lt IE 9]>
  <script src="https://cdn.jsdelivr.net/npm/html5shiv@3.7.3/dist/html5shiv.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/respond.js@1.4.2/dest/respond.min.js"></script>
<![endif]-->

</head>
<body>
  <div id="mobile-navbar" class="mobile-navbar">
  <div class="mobile-header-logo">
    <a href="/" class="logo">Fly</a>
  </div>
  <div class="mobile-navbar-icon">
    <span></span>
    <span></span>
    <span></span>
  </div>
</div>
<nav id="mobile-menu" class="mobile-menu slideout-menu">
  <ul class="mobile-menu-list">
    <a href="/">
        <li class="mobile-menu-item">Home</li>
      </a><a href="/post/">
        <li class="mobile-menu-item">Archives</li>
      </a><a href="/tags/">
        <li class="mobile-menu-item">Tags</li>
      </a><a href="/categories/">
        <li class="mobile-menu-item">Categories</li>
      </a><a href="/about/">
        <li class="mobile-menu-item">Abouts</li>
      </a>
  </ul>
</nav>
  <div class="container" id="mobile-panel">
    <header id="header" class="header">
        <div class="logo-wrapper">
  <a href="/" class="logo">Fly</a>
</div>

<nav class="site-navbar">
  <ul id="menu" class="menu">
    <li class="menu-item">
        <a class="menu-item-link" href="/">Home</a>
      </li><li class="menu-item">
        <a class="menu-item-link" href="/post/">Archives</a>
      </li><li class="menu-item">
        <a class="menu-item-link" href="/tags/">Tags</a>
      </li><li class="menu-item">
        <a class="menu-item-link" href="/categories/">Categories</a>
      </li><li class="menu-item">
        <a class="menu-item-link" href="/about/">Abouts</a>
      </li>
  </ul>
</nav>
    </header>

    <main id="main" class="main">
      <div class="content-wrapper">
        <div id="content" class="content">
          <article class="post">
    
    <header class="post-header">
      <h1 class="post-title">åŸå‹æ¨¡å¼,æ·±æ‹·è´,æµ…æ‹·è´</h1>

      <div class="post-meta">
        <span class="post-time"> Jul 14 </span>
        
          <span class="more-meta"> 3886 words </span>
          <span class="more-meta"> 8 mins read </span>
        
      </div>
    </header>

    <div class="post-toc" id="post-toc">
  <h2 class="post-toc-title">Contents</h2>
  <div class="post-toc-content always-active">
    <nav id="TableOfContents">
  <ul>
    <li>
      <ul>
        <li><a href="#åŸå‹æ¨¡å¼">åŸå‹æ¨¡å¼</a></li>
        <li><a href="#æ·±å¤åˆ¶æµ…å¤åˆ¶">æ·±å¤åˆ¶ã€æµ…å¤åˆ¶</a></li>
      </ul>
    </li>
  </ul>

  <ul>
    <li><a href="#shallow-copies">Shallow Copies</a></li>
    <li><a href="#deep-copies">Deep Copies</a></li>
    <li><a href="#copying-and-mutability">Copying and Mutability</a>
      <ul>
        <li><a href="#éå®¹å™¨ç±»å¯¹è±¡">éå®¹å™¨ç±»å¯¹è±¡</a></li>
        <li><a href="#è‡ªå®šä¹‰å¯¹è±¡çš„æ‹·è´">è‡ªå®šä¹‰å¯¹è±¡çš„æ‹·è´</a></li>
      </ul>
    </li>
  </ul>
</nav>
  </div>
</div>
    <div class="post-content">
      <h3 id="åŸå‹æ¨¡å¼">åŸå‹æ¨¡å¼</h3>
<p>æœ¬æ–‡æ¦‚å¿µä¸»è¦æ‘˜å–ä¹¦ç±**<a href="https://book.douban.com/subject/6424904/">ã€Šå¤§è¯è®¾è®¡æ¨¡å¼ã€‹</a>**, ObjCçš„æ·±æµ…æ‹·è´ä¸»è¦æ˜¯å¯¹**<a href="https://developer.apple.com/library/archive/documentation/Cocoa/Conceptual/Collections/Articles/Copying.html#//apple_ref/doc/uid/TP40010162-SW3">ã€Šè‹¹æœå¼€å‘æ–‡æ¡£ ã€‹</a>**ç›¸å…³å†…å®¹çš„ç†è§£å’Œç¿»è¯‘ï¼Œä»¥åŠå†™ä»£ç è¿›è¡ŒéªŒè¯.  æ–‡ç« ä¸­å¦‚æœ‰é”™è¯¯ï¼Œè¯·ä»¥åŸä¹¦ä»¥åŠå®˜æ–¹æ–‡æ¡£ä¸ºå‡†ã€‚</p>
<blockquote>
<p>åŸå‹æ¨¡å¼ (Prototype):ç”¨åŸå‹å¯¹è±¡å®ä¾‹åˆ¶å®šåˆ›å»ºå¯¹è±¡çš„ç§ç±»ï¼Œå¹¶ä¸”é€šè¿‡æ‹·è´è¿™äº›åŸå‹åˆ›å»ºæ–°çš„å¯¹è±¡.</p>
<p>![image-20200717144712499](/Users/liuxiaoyong/Library/Application Support/typora-user-images/image-20200717144712499.png)</p>
</blockquote>
<blockquote>
<p>åŸå‹æ¨¡å¼å…¶å®å°±æ˜¯ä»ä¸€ä¸ªå¯¹è±¡å†åˆ›å»ºå¦å¤–ä¸€ä¸ªå¯å®šåˆ¶çš„å¯¹è±¡, è€Œä¸”ä¸éœ€è¦çŸ¥é“ä»»ä½•åˆ›å»ºçš„ç»†èŠ‚.</p>
</blockquote>
<p>ä»£ç å¦‚ä¸‹ :</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span><span class="lnt">32
</span><span class="lnt">33
</span><span class="lnt">34
</span><span class="lnt">35
</span><span class="lnt">36
</span><span class="lnt">37
</span><span class="lnt">38
</span><span class="lnt">39
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-java" data-lang="java"><span class="kd">class</span> <span class="nc">Person</span> <span class="kd">implements</span> <span class="n">Cloneable</span> <span class="o">{</span>
    <span class="kt">int</span> <span class="n">age</span><span class="o">;</span>
    <span class="n">String</span> <span class="n">name</span><span class="o">;</span>

    <span class="n">Location</span> <span class="n">location</span><span class="o">;</span>
		
    <span class="nd">@Override</span>
    <span class="kd">protected</span> <span class="n">Object</span> <span class="nf">clone</span><span class="o">()</span> <span class="kd">throws</span> <span class="n">CloneNotSupportedException</span> <span class="o">{</span>
        <span class="k">return</span> <span class="kd">super</span><span class="o">.</span><span class="na">clone</span><span class="o">();</span>
    <span class="o">}</span>
<span class="o">}</span>

<span class="kd">class</span> <span class="nc">Location</span> <span class="o">{</span>
    <span class="n">String</span> <span class="n">city</span><span class="o">;</span>
    <span class="kt">int</span> <span class="n">no</span><span class="o">;</span>

    <span class="kd">public</span> <span class="nf">Location</span><span class="o">(</span><span class="n">String</span> <span class="n">city</span><span class="o">,</span> <span class="kt">int</span> <span class="n">no</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">this</span><span class="o">.</span><span class="na">city</span> <span class="o">=</span> <span class="n">city</span><span class="o">;</span>
        <span class="k">this</span><span class="o">.</span><span class="na">no</span> <span class="o">=</span> <span class="n">no</span><span class="o">;</span>
    <span class="o">}</span>
<span class="o">}</span>

<span class="kd">public</span> <span class="kd">class</span> <span class="nc">Test</span> <span class="o">{</span>

    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="n">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="kd">throws</span> <span class="n">Exception</span><span class="o">{</span>

        <span class="n">Person</span> <span class="n">p1</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Person</span><span class="o">(</span><span class="n">8</span><span class="o">,</span> <span class="s">&#34;Jack&#34;</span><span class="o">,</span> <span class="k">new</span> <span class="n">Location</span><span class="o">(</span><span class="s">&#34;åŒ—äº¬&#34;</span><span class="o">,</span> <span class="n">110</span><span class="o">));</span>
        <span class="n">Person</span> <span class="n">p2</span> <span class="o">=</span> <span class="o">(</span><span class="n">Person</span><span class="o">)</span> <span class="n">p1</span><span class="o">.</span><span class="na">clone</span><span class="o">();</span>

        <span class="n">p2</span><span class="o">.</span><span class="na">age</span> <span class="o">=</span> <span class="n">10</span><span class="o">;</span>
        <span class="n">p2</span><span class="o">.</span><span class="na">name</span> <span class="o">=</span> <span class="s">&#34;Rose&#34;</span><span class="o">;</span>
        <span class="n">p2</span><span class="o">.</span><span class="na">location</span><span class="o">.</span><span class="na">city</span> <span class="o">=</span> <span class="s">&#34;çŸ³å®¶åº„&#34;</span><span class="o">;</span>
        <span class="n">p2</span><span class="o">.</span><span class="na">location</span><span class="o">.</span><span class="na">no</span> <span class="o">=</span> <span class="n">310</span><span class="o">;</span>
        <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">p1</span><span class="o">);</span>	<span class="c1">// Person{age=8, name=&#39;Jack&#39;, location=Location{city=&#39;çŸ³å®¶åº„&#39;, no=310}}
</span><span class="c1"></span>        <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">p2</span><span class="o">);</span> <span class="c1">// Person{age=10, name=&#39;Rose&#39;, location=Location{city=&#39;çŸ³å®¶åº„&#39;, no=310}}
</span><span class="c1"></span>        <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">p1</span> <span class="o">==</span> <span class="n">p2</span><span class="o">);</span> <span class="c1">// false
</span><span class="c1"></span>        <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">p1</span><span class="o">.</span><span class="na">location</span> <span class="o">==</span> <span class="n">p2</span><span class="o">.</span><span class="na">location</span><span class="o">);</span> <span class="c1">// true
</span><span class="c1"></span>    <span class="o">}</span>
<span class="o">}</span>
</code></pre></td></tr></table>
</div>
</div><ul>
<li>Personç±», å®ç° <strong>Cloneable</strong>åè®®, å¹¶ä¸”å®ç° <strong>clone()</strong> æ–¹æ³•</li>
<li>å°±å®ç°äº†ä¸€ä¸ªç®€å•çš„<strong>åŸå‹</strong>(clone)æ¨¡å¼</li>
<li>ä½†æ˜¯æŸ¥çœ‹è¾“å‡ºåï¼Œå‘ç°ä¿®æ”¹ <strong>p2.location</strong>ä¹‹å, <strong>p1.location</strong>ä¹Ÿè¢«æ”¹å˜ï¼Œp2 å’Œ p1ä¸¤ä¸ªå¯¹è±¡äº’ç›¸å½±å“äº†.</li>
<li>ä¸ºä»€ä¹ˆä¼šè¿™æ ·ï¼Ÿ å°±æ¶‰åŠåˆ°äº†<strong>æ·±å¤åˆ¶ï¼Œæµ…å¤åˆ¶</strong>çš„æ¦‚å¿µ.</li>
</ul>
<h3 id="æ·±å¤åˆ¶æµ…å¤åˆ¶">æ·±å¤åˆ¶ã€æµ…å¤åˆ¶</h3>
<ul>
<li>Person ç±»ä¸­çš„ int age, String name éƒ½æ˜¯<strong>å€¼å¼•ç”¨</strong>, è€Œ Location location æ˜¯<strong>åœ°å€å¼•ç”¨</strong></li>
<li>super.clone()æ–¹æ³•æ˜¯è¿™æ ·
<ul>
<li>å¦‚æœå­—æ®µæ˜¯<strong>å€¼ç±»å‹</strong>ï¼Œåˆ™å¯¹è¯¥å­—æ®µæ‰§è¡Œé€ä½å¤åˆ¶.</li>
<li>å¦‚æœå­—æ®µæ˜¯<strong>åœ°å€ç±»å‹</strong>, åˆ™<strong>å¤åˆ¶å¼•ç”¨</strong>ä½†<strong>ä¸å¤åˆ¶å¼•ç”¨çš„å¯¹è±¡</strong>.</li>
</ul>
</li>
<li>å› æ­¤, p1 å’Œ p2çš„locationæŒ‡å‘çš„æ˜¯åŒæ„å¯¹è±¡</li>
<li><strong>æµ…å¤åˆ¶</strong> : <strong>è¢«å¤åˆ¶çš„å¯¹è±¡çš„æ‰€æœ‰å˜é‡éƒ½å«æœ‰ä¸åŸæ¥å¯¹è±¡ç›¸åŒçš„å€¼, è€Œæ‰€æœ‰çš„å¯¹å…¶ä»–å¯¹è±¡çš„å¼•ç”¨éƒ½ä»ç„¶æŒ‡å‘åŸæ¥çš„å¯¹è±¡.</strong></li>
<li><strong>æ·±å¤åˆ¶</strong> : <strong>å¯¹å…¶ä»–å¯¹è±¡çš„å¼•ç”¨å˜é‡ä¹Ÿå¤åˆ¶æˆæ–°çš„å¯¹è±¡ï¼Œè€Œä¸æ˜¯å¼•ç”¨åŸæœ‰çš„å¯¹è±¡.</strong></li>
<li>å¦‚ä½•å®ç° <strong>location</strong> çš„<strong>æ·±å¤åˆ¶</strong> ï¼Ÿ
<ul>
<li>Locationç±» ä¹Ÿå®ç° <strong>Cloneable</strong> æ¥å£ï¼Œå¹¶å®ç° <strong>clone()</strong> æ–¹æ³•</li>
<li>ä¸”åœ¨ Personç±»çš„ **clone()**æ–¹æ³•ä¸­, <strong>clone</strong>ä¸€ä»½ location å¯¹è±¡ï¼Œå¹¶å°†cloneåçš„å¯¹è±¡å¤åˆ¶ç»™æ–°çš„person</li>
</ul>
</li>
<li>ä»£ç å¦‚ä¸‹ :</li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-java" data-lang="java"><span class="kd">class</span> <span class="nc">Person</span> <span class="kd">implements</span> <span class="n">Cloneable</span> <span class="o">{</span>
    <span class="kt">int</span> <span class="n">age</span> <span class="o">=</span> <span class="n">8</span><span class="o">;</span>
    <span class="kt">int</span> <span class="n">score</span> <span class="o">=</span> <span class="n">100</span><span class="o">;</span>

    <span class="n">Location</span> <span class="n">location</span><span class="o">;</span>
    <span class="kd">protected</span> <span class="n">Object</span> <span class="nf">clone</span><span class="o">()</span> <span class="kd">throws</span> <span class="n">CloneNotSupportedException</span> <span class="o">{</span>
        <span class="n">Person</span> <span class="n">person</span> <span class="o">=</span> <span class="o">(</span><span class="n">Person</span><span class="o">)</span><span class="kd">super</span><span class="o">.</span><span class="na">clone</span><span class="o">();</span>
        <span class="n">person</span><span class="o">.</span><span class="na">location</span> <span class="o">=</span> <span class="o">(</span><span class="n">Location</span><span class="o">)</span><span class="n">location</span><span class="o">.</span><span class="na">clone</span><span class="o">();</span>
        <span class="k">return</span> <span class="n">person</span><span class="o">;</span>
    <span class="o">}</span>
<span class="o">}</span>

<span class="kd">class</span> <span class="nc">Location</span> <span class="kd">implements</span> <span class="n">Cloneable</span> <span class="o">{</span>
    <span class="n">String</span> <span class="n">city</span><span class="o">;</span>
    <span class="kt">int</span> <span class="n">no</span><span class="o">;</span>
		
    <span class="nd">@Override</span>
    <span class="kd">protected</span> <span class="n">Object</span> <span class="nf">clone</span><span class="o">()</span> <span class="kd">throws</span> <span class="n">CloneNotSupportedException</span> <span class="o">{</span>
        <span class="k">return</span> <span class="kd">super</span><span class="o">.</span><span class="na">clone</span><span class="o">();</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre></td></tr></table>
</div>
</div><p>æ·±å¤åˆ¶åï¼Œè¿è¡Œä¸Šé¢åŒæ ·çš„æµ‹è¯•ä»£ç ï¼Œè¾“å‡ºç»“æœå°±ä¸åŒäº†ã€‚</p>
<blockquote>
<p>Person{age=8, name=Jack, location=Location{city='åŒ—äº¬&rsquo;, no=110}}
Person{age=10, name=Rose, location=Location{city='çŸ³å®¶åº„&rsquo;, no=310}}
false
false</p>
</blockquote>
<ul>
<li>å¯ä»¥çœ‹å‡º, ä¿®æ”¹p2çš„ location ä¹‹åï¼Œæ²¡æœ‰å½±å“ p1ã€‚ ä¸” p1.location == p2.location è¾“å‡º falseã€‚</li>
<li>è¯´æ˜ p1 å’Œ p2çš„location æ²¡æœ‰æŒ‡å‘ç›¸åŒå¯¹è±¡, å®ç°äº† locationå¯¹è±¡çš„æ·±å¤åˆ¶</li>
<li>å½“å¯¹è±¡ä¸­ï¼Œåˆæœ‰å­å¯¹è±¡ï¼Œå­å¯¹è±¡åˆæœ‰å¯¹è±¡å±æ€§æ—¶å‘¢ï¼Ÿ
<ul>
<li>è¿™ç§æƒ…å†µï¼Œä½¿ç”¨æ—¶è¦è€ƒè™‘å¥½æ·±å¤åˆ¶è¦å¤åˆ¶å¤šå°‘å±‚ï¼Œè€Œä¸”è¦å½“å¿ƒå‡ºç°å¾ªç¯å¼•ç”¨ã€‚</li>
</ul>
</li>
</ul>
<h4 id="apple-developer-documentation">Apple Developer Documentation</h4>
<blockquote>
<h1 id="copying-collections">Copying Collections</h1>
<p>There are two kinds of object copying: shallow copies and deep copies. The normal copy is a shallow copy that produces a new collection that shares ownership of the objects with the original. Deep copies create new objects from the originals and add those to the new collection. This difference is illustrated by Figure 1.</p>
<ul>
<li>å¯¹è±¡å¤åˆ¶æœ‰ä¸¤ç§ç±»å‹ : æµ…å¤åˆ¶å’Œæ·±å¤åˆ¶.</li>
<li>æ™®é€šçš„å¤åˆ¶æ˜¯æµ…å¤åˆ¶ï¼Œå®ƒä¼šç”Ÿæˆä¸€ä¸ªæ–°çš„é›†åˆï¼Œæ–°é›†åˆå’ŒåŸé›†åˆå…±åŒäº«æœ‰å¯¹è±¡çš„æ‰€æœ‰æƒã€‚</li>
<li>æ·±å¤åˆ¶ä»åŸé›†åˆä¸­æ‹·è´æ‰€æœ‰å¯¹è±¡ï¼Œå¹¶æ–°å¯¹è±¡å…¶æ·»åŠ åˆ°æ–°é›†åˆä¸­ã€‚</li>
</ul>
<p>Figure1 å±•ç¤ºäº† æµ…æ‹·è´ å’Œ æ·±æ‹·è´çš„åŒºåˆ«.</p>
<p><strong>Figure 1</strong> Shallow copies and deep copies<img src="https://developer.apple.com/library/archive/documentation/Cocoa/Conceptual/Collections/Art/CopyingCollections_2x.png" alt="img"></p>
<h2 id="shallow-copies">Shallow Copies</h2>
<p>There are a number of ways to make a shallow copy of a collection. When you create a shallow copy, the objects in the original collection are sent a <code>retain</code> message and the pointers are copied to the new collection. Listing 1 shows some of the ways to create a new collection using a shallow copy.</p>
<ul>
<li>æœ‰å¾ˆå¤šæ–¹æ³•å¯ä»¥å¯¹é›†åˆè¿›è¡Œæµ…å¤åˆ¶ã€‚ å½“ä½ åˆ›å»ºä¸€ä¸ªæµ…å¤åˆ¶å¯¹è±¡æ—¶ã€‚åŸé›†åˆä¸­çš„å¯¹è±¡ä¼šè¢«å‘é€ä¸€ä¸ª retain æ¶ˆæ¯, å¹¶ä¸”æŒ‡é’ˆå°†è¢«å¤åˆ¶åˆ°æ–°é›†åˆä¸­.</li>
</ul>
<p>Listing 1å±•ç¤ºäº†ä¸€äº›æµ…å¤åˆ¶çš„æ–¹æ³•.</p>
<p><strong>Listing 1</strong> Making a shallow copy</p>
<table>
<thead>
<tr>
<th align="left"><code>NSArray *shallowCopyArray = [someArray copyWithZone:nil];</code></th>
</tr>
</thead>
<tbody>
<tr>
<td align="left"><code> </code></td>
</tr>
<tr>
<td align="left"><code>NSDictionary *shallowCopyDict = [[NSDictionary alloc] initWithDictionary:someDictionary copyItems:NO];</code></td>
</tr>
</tbody>
</table>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-objc" data-lang="objc"><span class="n">Cat</span> <span class="o">*</span><span class="n">cat</span> <span class="o">=</span> <span class="p">[[</span><span class="n">Cat</span> <span class="n">alloc</span><span class="p">]</span> <span class="nl">initWithName</span><span class="p">:</span><span class="s">@&#34;ğŸ±&#34;</span><span class="p">];</span>
<span class="n">Person</span> <span class="o">*</span><span class="n">obj</span> <span class="o">=</span> <span class="p">[[</span><span class="n">Person</span> <span class="n">alloc</span><span class="p">]</span> <span class="nl">initWithName</span><span class="p">:</span><span class="s">@&#34;Jack&#34;</span> <span class="nl">gender</span><span class="p">:</span><span class="s">@&#34;male&#34;</span> <span class="nl">cat</span><span class="p">:</span><span class="n">cat</span><span class="p">];</span>
<span class="n">NSArray</span> <span class="o">*</span><span class="n">arr1</span> <span class="o">=</span> <span class="l">@[</span><span class="n">obj</span><span class="l">]</span><span class="p">;</span>
<span class="n">NSArray</span> <span class="o">*</span><span class="n">arr2</span> <span class="o">=</span> <span class="p">[</span><span class="n">arr1</span> <span class="nl">copyWithZone</span><span class="p">:</span><span class="nb">nil</span><span class="p">];</span>
</code></pre></td></tr></table>
</div>
</div><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-objc" data-lang="objc"><span class="n">Cat</span> <span class="o">*</span><span class="n">cat</span> <span class="o">=</span> <span class="p">[[</span><span class="n">Cat</span> <span class="n">alloc</span><span class="p">]</span> <span class="nl">initWithName</span><span class="p">:</span><span class="s">@&#34;ğŸ±&#34;</span><span class="p">];</span>
<span class="n">Person</span> <span class="o">*</span><span class="n">obj</span> <span class="o">=</span> <span class="p">[[</span><span class="n">Person</span> <span class="n">alloc</span><span class="p">]</span> <span class="nl">initWithName</span><span class="p">:</span><span class="s">@&#34;Jack&#34;</span> <span class="nl">gender</span><span class="p">:</span><span class="s">@&#34;male&#34;</span> <span class="nl">cat</span><span class="p">:</span><span class="n">cat</span><span class="p">];</span>
<span class="n">NSArray</span> <span class="o">*</span><span class="n">arr1</span> <span class="o">=</span> <span class="l">@[</span><span class="n">obj</span><span class="l">]</span><span class="p">;</span>
<span class="n">NSArray</span> <span class="o">*</span><span class="n">arr2</span> <span class="o">=</span> <span class="p">[[</span><span class="n">NSArray</span> <span class="n">alloc</span><span class="p">]</span> <span class="nl">initWithArray</span><span class="p">:</span><span class="n">arr1</span> <span class="nl">copyItems</span><span class="p">:</span><span class="nb">NO</span><span class="p">];</span>
</code></pre></td></tr></table>
</div>
</div><p>éªŒè¯è¿™ä¸¤ç§æƒ…å†µ,  éƒ½æ˜¯æµ…æ‹·è´, ä¸¤ä¸ªæ•°ç»„ä¸­ Personå¯¹è±¡çš„å†…å­˜ä¸€æ ·.</p>
<p><img src="https://tva1.sinaimg.cn/large/007S8ZIlly1ggu3ur44m4j309w056mxr.jpg" alt="å±å¹•å¿«ç…§ 2020-07-17 ä¸‹åˆ5.36.17"></p>
<p>These techniques are not restricted to the collections shown. For example, you can copy a set with the <code>copyWithZone:</code> methodâ€”or the <code>mutableCopyWithZone:</code> methodâ€”or an array with <code>initWithArray:copyItems:</code> method.</p>
<ul>
<li>è¿™äº›æŠ€æœ¯ä¸ä»…é™äºæ‰€ç¤ºçš„é›†åˆã€‚ä¾‹å¦‚ï¼Œä½ å¯ä»¥ä½¿ç”¨ copyWithZone `mutableCopyWithZoneæ‹·è´é›†åˆ</li>
<li>ä¹Ÿå¯ä»¥ä½¿ç”¨ initWithArray:copyItems å¤åˆ¶æ•°ç»„.</li>
</ul>
<h2 id="deep-copies">Deep Copies</h2>
<p>There are two ways to make deep copies of a collection. You can use the collectionâ€™s equivalent of <code>initWithArray:copyItems:</code> with <code>YES</code> as the second parameter. If you create a deep copy of a collection in this way, each object in the collection is sent a <code>copyWithZone:</code> message. If the objects in the collection have adopted the <code>NSCopying</code> protocol, the objects are deeply copied to the new collection, which is then the sole owner of the copied objects. If the objects do not adopt the <code>NSCopying</code>protocol, attempting to copy them in such a way results in a runtime error. However, <code>copyWithZone:</code> produces a shallow copy. This kind of copy is only capable of producing a one-level-deep copy. If you only need a one-level-deep copy, you can explicitly call for one as in Listing 2.</p>
<ul>
<li>æœ‰ä¸¤ç§æ–¹æ³•å¯ä»¥æ·±æ‹·è´é›†åˆ. ä½ å¯ä»¥ä½¿ç”¨é›†åˆçš„ç­‰æ•ˆé¡¹ initWithArray:copyItems: å¹¶ä»¥ YESä½œä¸º ç¬¬äºŒä¸ªå‚æ•°</li>
<li>å¦‚æœä½ ç”¨è¿™ç§æ–¹å¼åˆ›å»ºé›†åˆçš„æ·±æ‹·è´å‰¯æœ¬, åˆ™é›†åˆä¸­çš„æ¯ä¸ªå¯¹è±¡éƒ½ä¼šæ”¶åˆ° copyWithZone: æ¶ˆæ¯ã€‚</li>
<li>å¦‚æœé›†åˆä¸­çš„å¯¹è±¡å·²å®ç° <strong>NSCopying</strong> åè®®ï¼Œåˆ™å°†å¯¹è±¡æ·±å¤åˆ¶åˆ°é›†åˆä¸­ï¼Œæ–°é›†åˆæ˜¯è¢«å¤åˆ¶å¯¹è±¡çš„å”¯ä¸€æ‰€æœ‰è€…ã€‚</li>
<li>å¦‚æœé›†åˆä¸­çš„å¯¹è±¡æ²¡æœ‰å®ç° <strong>NSCopying</strong>åè®®, åˆ™ä»¥è¿™ç§æ–¹å¼å¤åˆ¶ä¼šå¯¼è‡´<strong>è¿è¡Œæ—¶é”™è¯¯</strong>.</li>
<li>ç„¶è€Œ, <strong>copyWithZone</strong> ä¹Ÿä¼šäº§ç”Ÿ<strong>æµ…æ‹·è´</strong>. è¿™ç§æ‹·è´æ–¹å¼å€¼èƒ½ç”Ÿæˆ <strong>ä¸€çº§æ·±æ‹·è´</strong>å‰¯æœ¬ã€‚ å¦‚æœä½ åªéœ€è¦ä¸€ä¸ª<strong>ä¸€çº§æ·±æ‹·è´</strong>å‰¯æœ¬,  ä½ å¯ä»¥æ˜¾ç¤ºçš„è°ƒç”¨æ¸…å•2æ‰€ç¤ºçš„æ–¹æ³•.</li>
</ul>
<p><strong>Listing 2</strong> Making a deep copy</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-fallback" data-lang="fallback">NSArray *deepCopyArray=[[NSArray alloc] initWithArray:someArray copyItems:YES];
</code></pre></td></tr></table>
</div>
</div><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-objc" data-lang="objc"><span class="n">Cat</span> <span class="o">*</span><span class="n">cat</span> <span class="o">=</span> <span class="p">[[</span><span class="n">Cat</span> <span class="n">alloc</span><span class="p">]</span> <span class="nl">initWithName</span><span class="p">:</span><span class="s">@&#34;ğŸ±&#34;</span><span class="p">];</span>
<span class="n">Person</span> <span class="o">*</span><span class="n">obj</span> <span class="o">=</span> <span class="p">[[</span><span class="n">Person</span> <span class="n">alloc</span><span class="p">]</span> <span class="nl">initWithName</span><span class="p">:</span><span class="s">@&#34;Jack&#34;</span> <span class="nl">gender</span><span class="p">:</span><span class="s">@&#34;male&#34;</span> <span class="nl">cat</span><span class="p">:</span><span class="n">cat</span><span class="p">];</span>
<span class="n">NSArray</span> <span class="o">*</span><span class="n">arr1</span> <span class="o">=</span> <span class="l">@[</span><span class="n">obj</span><span class="l">]</span><span class="p">;</span>
<span class="n">NSArray</span> <span class="o">*</span><span class="n">arr2</span> <span class="o">=</span> <span class="p">[[</span><span class="n">NSArray</span> <span class="n">alloc</span><span class="p">]</span> <span class="nl">initWithArray</span><span class="p">:</span><span class="n">arr1</span> <span class="nl">copyItems</span><span class="p">:</span><span class="nb">YES</span><span class="p">];</span>
</code></pre></td></tr></table>
</div>
</div><p><img src="https://tva1.sinaimg.cn/large/007S8ZIlly1ggu3xytpx4j30a005ggm9.jpg" alt="å±å¹•å¿«ç…§ 2020-07-17 ä¸‹åˆ5.39.48"></p>
<p>æ‰§è¡Œç»“æœå¦‚ä¸Šå›¾ :</p>
<ul>
<li>ä¸¤ä¸ªæ•°ç»„ä¸­ peson å¯¹è±¡åœ°å€ä¸ä¸€æ ·</li>
<li>è€Œä¸¤ä¸ªperson å¯¹è±¡çš„ cat å†…å­˜åœ°å€ä¸€æ ·</li>
<li>æ‰€ä»¥ç»“è®ºæ˜¯ : äº§ç”Ÿäº†<strong>æ·±æ‹·è´</strong>ï¼Œ ä¸”æ˜¯ <strong>ä¸€çº§æ·±æ‹·è´</strong>ï¼Œ ç¬¬äºŒçº§åˆ«æ²¡æœ‰ä»ç„¶æ˜¯æµ…æ‹·è´</li>
</ul>
<p>This technique applies to the other collections as well. Use the collectionâ€™s equivalent of <code>initWithArray:copyItems:</code> with <code>YES</code> as the second parameter.</p>
<ul>
<li>è¿™é¡¹æŠ€æœ¯ä¹Ÿé€‚ç”¨äºå…¶ä»–é›†åˆï¼Œä½¿ç”¨é›†åˆçš„ç­‰æ•ˆé¡¹ initWithArray:copyItems: å¹¶ä»¥ YES ä½œä¸ºç¬¬äºŒä¸ªå‚æ•°.</li>
</ul>
<p>If you need a true deep copy, such as when you have an array of arrays, you can archive and then unarchive the collection, provided the contents all conform to the <code>NSCoding</code> protocol. An example of this technique is shown in Listing 3.</p>
<ul>
<li>
<p>å¦‚æœä½ éœ€è¦ä¸€ä¸ªçœŸæ­£çš„<strong>æ·±å¤åˆ¶</strong>å‰¯æœ¬(å‡å¦‚ï¼Œå½“ä½ æœ‰ä¸€ä¸ªäºŒç»´æ•°ç»„æ—¶).</p>
</li>
<li>
<p>ä½ å¯ä»¥é€šè¿‡å½’æ¡£å†æ¥æ¡£è¯¥é›†åˆ. å¦‚æœå…¶ä¸­å¯¹è±¡å…¨éƒ¨éƒ½å®ç° <strong>NSCoding</strong>åè®®.</p>
</li>
<li>
<p>Listing3 å±•ç¤ºäº†æ­¤æŠ€æœ¯çš„ä¸€ä¸ªç¤ºä¾‹.</p>
</li>
</ul>
<p><strong>Listing 3</strong> A true deep copy</p>
<table>
<thead>
<tr>
<th><code>NSArray* trueDeepCopyArray = [NSKeyedUnarchiver unarchiveObjectWithData:</code></th>
</tr>
</thead>
<tbody>
<tr>
<td><code>          [NSKeyedArchiver archivedDataWithRootObject:oldArray]];</code></td>
</tr>
</tbody>
</table>
<h2 id="copying-and-mutability">Copying and Mutability</h2>
<p>When you copy a collection, the mutability of that collection or the objects it contains can be affected. Each method of copying has slightly different effects on the mutability of the objects in a collection of arbitrary depth:</p>
<ul>
<li>
<p><code>copyWithZone:</code> makes the surface level immutable. All deeper levels have the mutability they previously had.</p>
</li>
<li>
<p><code>initWithArray:copyItems:</code> with <code>NO</code> as the second parameter gives the surface level the mutability of the class it is allocated as. All deeper levels have the mutability they previously had.</p>
</li>
<li>
<p><code>initWithArray:copyItems:</code> with <code>YES</code> as the second parameter gives the surface level the mutability of the class it is allocated as. The next level is immutable, and all deeper levels have the mutability they previously had.</p>
</li>
<li>
<p>Archiving and unarchiving the collection leaves the mutability of all levels as it was before.</p>
</li>
<li>
<p>å½“å¤åˆ¶é›†åˆæ—¶ï¼Œ è¯¥é›†åˆæˆ–å…¶åŒ…å«å¯¹è±¡çš„å¯å˜æ€§å¯èƒ½ä¼šæ”¶åˆ°å½±å“.</p>
</li>
<li>
<p>æ¯ç§å¤åˆ¶æ–¹æ³•å¯¹ä»»æ„æ·±åº¦çš„é›†åˆä¸­å¯¹è±¡çš„å¯å˜æ€§ç•¥æœ‰ä¸åŒ.</p>
<ul>
<li>
<p><strong>copyWithZone</strong> : ä½¿è¡¨å±‚ä¸å˜ï¼Œ æ·±å±‚æ¬¡çš„å¯¹è±¡ç»´æŒå…¶ä¹‹å‰çš„å¯å˜æ€§</p>
</li>
<li>
<p><strong>initWithArray:copyItems:</strong> å½“ç¬¬äºŒä¸ªå‚æ•°ä¸º NO æ—¶, ä½¿è¡¨å±‚å…·æœ‰å…¶ç±»çš„å¯å˜æ€§ã€‚æ‰€æœ‰æ›´æ·±å±‚æ¬¡çš„å…ƒç´ éƒ½å…·æœ‰ä»¥å‰çš„å¯å˜æ€§</p>
<ul>
<li>ä»£ç ç¤ºä¾‹ :</li>
<li>arr2 çš„å¯å˜æ€§æœ‰ [NSArray alloc] çš„ç±»å‹ç¡®å®š, å¦‚æœç”¨ NSArray åˆå§‹åŒ–, åˆ™ arr2ä¸å¯å˜</li>
<li>ä½¿ç”¨ NSMutableArray åˆå§‹åŒ–, åˆ™ arr2 å¯å˜</li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-objc" data-lang="objc"><span class="n">NSArray</span> <span class="o">*</span><span class="n">arr1</span> <span class="o">=</span> <span class="l">@[</span><span class="s">@&#34;1&#34;</span><span class="p">,</span><span class="s">@&#34;2&#34;</span><span class="p">,</span><span class="s">@&#34;3&#34;</span><span class="l">]</span><span class="p">;</span>
<span class="n">NSMutableArray</span> <span class="o">*</span><span class="n">arr2</span> <span class="o">=</span> <span class="p">[[</span><span class="n">NSArray</span> <span class="n">alloc</span><span class="p">]</span> <span class="nl">initWithArray</span><span class="p">:</span><span class="n">arr1</span> <span class="nl">copyItems</span><span class="p">:</span><span class="nb">NO</span><span class="p">];</span>
</code></pre></td></tr></table>
</div>
</div></li>
<li>
<p><strong>initWithArray:copyItems:</strong> å½“ç¬¬äºŒä¸ªå‚æ•°ä½ YESæ—¶ï¼Œ ä½¿è¡¨å±‚å…·æœ‰å…¶ç±»çš„å¯å˜æ€§ã€‚ ä¸‹ä¸€çº§åˆ«æ˜¯ä¸å¯å˜çš„ï¼Œå¹¶ä¸”æ‰€æœ‰æ›´æ·±å±‚æ¬¡çš„å…ƒç´ éƒ½å…·æœ‰å…¶ä»¥å‰çš„å¯å˜æ€§</p>
</li>
</ul>
</li>
<li>
<p><strong>å½’æ¡£ / æ¥æ¡£</strong> å°†ä¿ç•™æ‰€æœ‰çº§åˆ«å…ƒç´ çš„å¯å˜æ€§ã€‚</p>
</li>
</ul>
</blockquote>
<h3 id="éå®¹å™¨ç±»å¯¹è±¡">éå®¹å™¨ç±»å¯¹è±¡</h3>
<h4 id="nsstringçš„æ‹·è´">NSStringçš„æ‹·è´</h4>
<ul>
<li>è‡ªå®šä¹‰å¯¹è±¡çš„ <strong>copyWithZone</strong>: æ–¹æ³•ï¼Œæ˜¯æˆ‘ä»¬è‡ªå·±å®ç°ï¼Œæˆ‘ä»¬æ¸…æ¥šå…¶æ˜¯<strong>æ·±æ‹·è´</strong>è¿˜æ˜¯<strong>æµ…æ‹·è´</strong></li>
<li>ä½†æ˜¯ <strong>NSString</strong> çš„ copy æ˜¯æ·±æ‹·è´è¿˜æ˜¯æµ…æ‹·è´å‘¢ ?</li>
<li>ä¸èƒ½çœ‹æºä»£ç ï¼Œåªèƒ½ä»£ç éªŒè¯å’¯</li>
</ul>
<h5 id="éªŒè¯">éªŒè¯</h5>
<ul>
<li><strong>ä¸å¯å˜</strong>å­—ç¬¦ä¸²ï¼Œ<strong>copy</strong> 	<strong>-&gt; æµ…æ‹·è´</strong></li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-objc" data-lang="objc"><span class="n">NSString</span> <span class="o">*</span><span class="n">str1</span> <span class="o">=</span> <span class="s">@&#34;I am a String&#34;</span><span class="p">;</span>
<span class="n">NSString</span> <span class="o">*</span><span class="n">str2</span> <span class="o">=</span> <span class="n">str1</span><span class="p">.</span><span class="k">copy</span><span class="p">;</span>

<span class="n">NSLog</span><span class="p">(</span><span class="s">@&#34;%@,&lt;memory address: %p&gt;&#34;</span><span class="p">,</span> <span class="n">str1</span><span class="p">,</span> <span class="n">str1</span><span class="p">);</span>
<span class="n">NSLog</span><span class="p">(</span><span class="s">@&#34;%@,&lt;memory address: %p&gt;&#34;</span><span class="p">,</span> <span class="n">str1</span><span class="p">,</span> <span class="n">str2</span><span class="p">);</span>
</code></pre></td></tr></table>
</div>
</div><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-objc" data-lang="objc"><span class="err">æµ‹è¯•</span><span class="p">[</span><span class="mi">60501</span><span class="o">:</span><span class="mi">1063290</span><span class="p">]</span> <span class="n">I</span> <span class="n">am</span> <span class="n">a</span> <span class="n">String</span><span class="p">,</span><span class="o">&lt;</span><span class="n">memory</span> <span class="nl">address</span><span class="p">:</span> <span class="mh">0x1000020a8</span><span class="o">&gt;</span>
<span class="err">æµ‹è¯•</span><span class="p">[</span><span class="mi">60501</span><span class="o">:</span><span class="mi">1063290</span><span class="p">]</span> <span class="n">I</span> <span class="n">am</span> <span class="n">a</span> <span class="n">String</span><span class="p">,</span><span class="o">&lt;</span><span class="n">memory</span> <span class="nl">address</span><span class="p">:</span> <span class="mh">0x1000020a8</span><span class="o">&gt;</span>
</code></pre></td></tr></table>
</div>
</div><ul>
<li><strong>å¯å˜</strong>å­—ç¬¦ä¸², <strong>copy</strong>	-&gt; <strong>æ·±æ‹·è´</strong></li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-objc" data-lang="objc"><span class="n">NSMutableString</span> <span class="o">*</span><span class="n">str1</span> <span class="o">=</span> <span class="p">[</span><span class="n">NSMutableString</span> <span class="nl">stringWithString</span><span class="p">:</span><span class="s">@&#34;I am a String&#34;</span><span class="p">];</span>
<span class="n">NSString</span> <span class="o">*</span><span class="n">str2</span> <span class="o">=</span> <span class="n">str1</span><span class="p">.</span><span class="k">copy</span><span class="p">;</span>

<span class="n">NSLog</span><span class="p">(</span><span class="s">@&#34;%@,&lt;memory address: %p&gt;&#34;</span><span class="p">,</span> <span class="n">str1</span><span class="p">,</span> <span class="n">str1</span><span class="p">);</span>
<span class="n">NSLog</span><span class="p">(</span><span class="s">@&#34;%@,&lt;memory address: %p&gt;&#34;</span><span class="p">,</span> <span class="n">str1</span><span class="p">,</span> <span class="n">str2</span><span class="p">);</span>
</code></pre></td></tr></table>
</div>
</div><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-objc" data-lang="objc"><span class="err">æµ‹è¯•</span><span class="p">[</span><span class="mi">60516</span><span class="o">:</span><span class="mi">1064232</span><span class="p">]</span> <span class="n">I</span> <span class="n">am</span> <span class="n">a</span> <span class="n">String</span><span class="p">,</span><span class="o">&lt;</span><span class="n">memory</span> <span class="nl">address</span><span class="p">:</span> <span class="mh">0x100608d40</span><span class="o">&gt;</span>
<span class="err">æµ‹è¯•</span><span class="p">[</span><span class="mi">60516</span><span class="o">:</span><span class="mi">1064232</span><span class="p">]</span> <span class="n">I</span> <span class="n">am</span> <span class="n">a</span> <span class="n">String</span><span class="p">,</span><span class="o">&lt;</span><span class="n">memory</span> <span class="nl">address</span><span class="p">:</span> <span class="mh">0x100608e00</span><span class="o">&gt;</span>
</code></pre></td></tr></table>
</div>
</div><ul>
<li><strong>ä¸å¯å˜</strong>å­—ç¬¦ä¸², <strong>mutableCopy</strong> -&gt; <strong>æ·±æ‹·è´</strong></li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-objc" data-lang="objc"><span class="n">NSString</span> <span class="o">*</span><span class="n">str1</span> <span class="o">=</span> <span class="s">@&#34;I am a String&#34;</span><span class="p">;</span>
<span class="n">NSString</span> <span class="o">*</span><span class="n">str2</span> <span class="o">=</span> <span class="n">str1</span><span class="p">.</span><span class="n">mutableCopy</span><span class="p">;</span>

<span class="n">NSLog</span><span class="p">(</span><span class="s">@&#34;%@,&lt;memory address: %p&gt;&#34;</span><span class="p">,</span> <span class="n">str1</span><span class="p">,</span> <span class="n">str1</span><span class="p">);</span>
<span class="n">NSLog</span><span class="p">(</span><span class="s">@&#34;%@,&lt;memory address: %p&gt;&#34;</span><span class="p">,</span> <span class="n">str1</span><span class="p">,</span> <span class="n">str2</span><span class="p">);</span>
</code></pre></td></tr></table>
</div>
</div><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-objc" data-lang="objc"><span class="err">æµ‹è¯•</span><span class="p">[</span><span class="mi">60527</span><span class="o">:</span><span class="mi">1065196</span><span class="p">]</span> <span class="n">I</span> <span class="n">am</span> <span class="n">a</span> <span class="n">String</span><span class="p">,</span><span class="o">&lt;</span><span class="n">memory</span> <span class="nl">address</span><span class="p">:</span> <span class="mh">0x1000020a8</span><span class="o">&gt;</span>
<span class="err">æµ‹è¯•</span><span class="p">[</span><span class="mi">60527</span><span class="o">:</span><span class="mi">1065196</span><span class="p">]</span> <span class="n">I</span> <span class="n">am</span> <span class="n">a</span> <span class="n">String</span><span class="p">,</span><span class="o">&lt;</span><span class="n">memory</span> <span class="nl">address</span><span class="p">:</span> <span class="mh">0x101852a10</span><span class="o">&gt;</span>
</code></pre></td></tr></table>
</div>
</div><ul>
<li><strong>å¯å˜</strong>å­—ç¬¦ä¸², <strong>mutableCopy</strong> -&gt; <strong>æ·±æ‹·è´</strong></li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-objc" data-lang="objc"><span class="n">NSMutableString</span> <span class="o">*</span><span class="n">str1</span> <span class="o">=</span> <span class="p">[</span><span class="n">NSMutableString</span> <span class="nl">stringWithString</span><span class="p">:</span><span class="s">@&#34;I am a String&#34;</span><span class="p">];</span>
<span class="n">NSString</span> <span class="o">*</span><span class="n">str2</span> <span class="o">=</span> <span class="n">str1</span><span class="p">.</span><span class="n">mutableCopy</span><span class="p">;</span>

<span class="n">NSLog</span><span class="p">(</span><span class="s">@&#34;%@,&lt;memory address: %p&gt;&#34;</span><span class="p">,</span> <span class="n">str1</span><span class="p">,</span> <span class="n">str1</span><span class="p">);</span>
<span class="n">NSLog</span><span class="p">(</span><span class="s">@&#34;%@,&lt;memory address: %p&gt;&#34;</span><span class="p">,</span> <span class="n">str1</span><span class="p">,</span> <span class="n">str2</span><span class="p">);</span>
</code></pre></td></tr></table>
</div>
</div><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-objc" data-lang="objc"><span class="err">æµ‹è¯•</span><span class="p">[</span><span class="mi">60539</span><span class="o">:</span><span class="mi">1066040</span><span class="p">]</span> <span class="n">I</span> <span class="n">am</span> <span class="n">a</span> <span class="n">String</span><span class="p">,</span><span class="o">&lt;</span><span class="n">memory</span> <span class="nl">address</span><span class="p">:</span> <span class="mh">0x100554890</span><span class="o">&gt;</span>
<span class="err">æµ‹è¯•</span><span class="p">[</span><span class="mi">60539</span><span class="o">:</span><span class="mi">1066040</span><span class="p">]</span> <span class="n">I</span> <span class="n">am</span> <span class="n">a</span> <span class="n">String</span><span class="p">,</span><span class="o">&lt;</span><span class="n">memory</span> <span class="nl">address</span><span class="p">:</span> <span class="mh">0x100554950</span><span class="o">&gt;</span>
</code></pre></td></tr></table>
</div>
</div><h5 id="ç»“è®º">ç»“è®º</h5>
<p>é€šè¿‡ä»¥ä¸Šä»£ç åˆ†æï¼Œå¯ä»¥å¾—å‡ºç»“è®º :</p>
<ul>
<li><strong>[immutableObj copy]  -&gt; æµ…å¤åˆ¶</strong></li>
<li><strong>[immutableObj mutableCopy]  -&gt; æ·±å¤åˆ¶</strong></li>
<li><strong>[mutableObj copy]  -&gt; æ·±å¤åˆ¶</strong></li>
<li><strong>[mutableObj copy]  -&gt; æ·±å¤åˆ¶</strong></li>
</ul>
<h3 id="è‡ªå®šä¹‰å¯¹è±¡çš„æ‹·è´">è‡ªå®šä¹‰å¯¹è±¡çš„æ‹·è´</h3>
<ul>
<li>
<p>åœ¨ObjCä¸­ï¼Œä½¿ç”¨åŸå‹æ¨¡å¼åˆ›å»ºè‡ªå®šä¹‰å¯¹è±¡, æ¯”å¦‚ Personç±»</p>
<ul>
<li>
<p>é¦–å…ˆéœ€è¦éµå®ˆ <strong>NSCopying</strong>åè®®</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-objc" data-lang="objc"><span class="k">@interface</span> <span class="nc">Person</span> : <span class="nc">NSObject</span> <span class="o">&lt;</span><span class="n">NSCopying</span><span class="o">&gt;</span>
</code></pre></td></tr></table>
</div>
</div></li>
<li>
<p>å®ç° <strong>copyWithZone:</strong> æ–¹æ³•</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-objc" data-lang="objc"><span class="p">-</span> <span class="p">(</span><span class="kt">id</span><span class="p">)</span><span class="nf">copyWithZone:</span><span class="p">(</span><span class="n">nullable</span> <span class="n">NSZone</span> <span class="o">*</span><span class="p">)</span><span class="nv">zone</span><span class="p">{</span>
    <span class="n">Person</span> <span class="o">*</span><span class="n">copyObj</span> <span class="o">=</span> <span class="p">[[[</span><span class="nb">self</span> <span class="k">class</span><span class="p">]</span> <span class="nl">allocWithZone</span><span class="p">:</span><span class="n">zone</span><span class="p">]</span> <span class="nl">initWithName</span><span class="p">:</span><span class="n">_name</span> <span class="nl">gender</span><span class="p">:</span><span class="n">_gender</span><span class="p">];</span>
    <span class="k">return</span> <span class="n">copyObj</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></td></tr></table>
</div>
</div></li>
<li>
<p>è¿™æ—¶ï¼Œæˆ‘ä»¬å°±å¯ä»¥åˆ©ç”¨ <strong>copy</strong> æ¥åˆ›å»º Person å¯¹è±¡äº†</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-objc" data-lang="objc"><span class="kt">int</span> <span class="nf">main</span><span class="p">(</span><span class="kt">int</span> <span class="n">argc</span><span class="p">,</span> <span class="k">const</span> <span class="kt">char</span> <span class="o">*</span> <span class="n">argv</span><span class="p">[])</span> <span class="p">{</span>
    <span class="k">@autoreleasepool</span> <span class="p">{</span>
        <span class="n">Person</span> <span class="o">*</span><span class="n">p1</span> <span class="o">=</span> <span class="p">[[</span><span class="n">Person</span> <span class="n">alloc</span><span class="p">]</span> <span class="nl">initWithName</span><span class="p">:</span><span class="s">@&#34;Jack&#34;</span> <span class="nl">gender</span><span class="p">:</span><span class="s">@&#34;male&#34;</span><span class="p">];</span>
        <span class="n">Person</span> <span class="o">*</span><span class="n">p2</span> <span class="o">=</span> <span class="n">p1</span><span class="p">.</span><span class="k">copy</span><span class="p">;</span>
            
        <span class="n">p2</span><span class="p">.</span><span class="n">name</span> <span class="o">=</span> <span class="s">@&#34;Rose&#34;</span><span class="p">;</span>
        <span class="n">p2</span><span class="p">.</span><span class="n">gender</span> <span class="o">=</span> <span class="s">@&#34;female&#34;</span><span class="p">;</span>
            
        <span class="n">NSLog</span><span class="p">(</span><span class="s">@&#34;%@&#34;</span><span class="p">,</span><span class="n">p1</span><span class="p">);</span>
        <span class="n">NSLog</span><span class="p">(</span><span class="s">@&#34;%@&#34;</span><span class="p">,</span><span class="n">p2</span><span class="p">);</span>
    <span class="p">}</span>
    <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></td></tr></table>
</div>
</div></li>
<li>
<p>æˆ‘ä»¬è¦†å†™äº† <strong>description</strong> æ–¹æ³•ï¼Œæœ€ç»ˆæ‰“å°ç»“æœå¦‚ä¸‹ :</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-objc" data-lang="objc"><span class="p">-</span> <span class="p">(</span><span class="n">NSString</span> <span class="o">*</span><span class="p">)</span><span class="nf">description</span><span class="p">{</span>
    <span class="k">return</span> <span class="p">[</span><span class="n">NSString</span> <span class="nl">stringWithFormat</span><span class="p">:</span><span class="s">@&#34;%@ is %@, &lt;memory address: %p&gt;&#34;</span><span class="p">,</span> <span class="n">_name</span><span class="p">,</span> <span class="n">_gender</span><span class="p">,</span> <span class="nb">self</span><span class="p">];</span>
<span class="p">}</span>
</code></pre></td></tr></table>
</div>
</div><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-fallback" data-lang="fallback">æµ‹è¯•[60329:1050217] Jack is male, &lt;memory address: 0x10059d840&gt;
æµ‹è¯•[60329:1050217] Rose is female, &lt;memory address: 0x10059e010&gt;
</code></pre></td></tr></table>
</div>
</div></li>
<li>
<p>å¯ä»¥çœ‹åˆ°, æ‰“å°å‡ºçš„å†…å­˜åœ°å€ä¸åŒï¼Œæˆ‘ä»¬æŠŠè¿™ç§<strong>copy</strong>ç§°ä¸º<strong>æ·±æ‹·è´</strong> (<strong>deep copy</strong>), ä¹Ÿç§°ä¸º<strong>å€¼æ‹·è´</strong></p>
<ul>
<li>æˆ‘ä»¬ä¿®æ”¹ p2 ä¸ä¼šå¯¹ p1 é€ æˆå½±å“ï¼Œ å› ä¸ºæ ˆä¸­p1 p2ä¸¤ä¸ªæŒ‡é’ˆæŒ‡å‘å †ä¸­ä¸¤ä¸ªä¸åŒçš„åœ°å€</li>
</ul>
<p><img src="https://tva1.sinaimg.cn/large/007S8ZIlly1ggu47zd8ccj311s0e2q87.jpg" alt="å±å¹•å¿«ç…§ 2020-07-16 ä¸‹åˆ5.32.03"></p>
</li>
<li>
<p>æ·±æ‹·è´çš„åŸå› ï¼Œæ˜¯æˆ‘ä»¬åœ¨ copyWithZone æ–¹æ³•ä¸­ï¼Œé‡æ–° alloc äº†å†…å­˜ç©ºé—´ , é‚£å‡å¦‚æˆ‘ä»¬ä¸é‡æ–°ç”³è¯·å†…å­˜ç©ºé—´å‘¢?</p>
</li>
<li>
<p>é‡å†™copyWithZone æ–¹æ³•å¦‚ä¸‹ :</p>
<ul>
<li>æ²¡æœ‰é‡æ–°ç”³è¯·å†…å­˜ç©ºé—´</li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-objc" data-lang="objc"><span class="p">-</span> <span class="p">(</span><span class="kt">id</span><span class="p">)</span><span class="nf">copyWithZone:</span><span class="p">(</span><span class="n">nullable</span> <span class="n">NSZone</span> <span class="o">*</span><span class="p">)</span><span class="nv">zone</span><span class="p">{</span>
    <span class="n">Person</span> <span class="o">*</span><span class="n">copyObj</span> <span class="o">=</span> <span class="p">[</span><span class="nb">self</span> <span class="nl">initWithName</span><span class="p">:</span><span class="n">_name</span> <span class="nl">gender</span><span class="p">:</span><span class="n">_gender</span><span class="p">];</span>
    <span class="k">return</span> <span class="n">copyObj</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></td></tr></table>
</div>
</div><ul>
<li>mainå‡½æ•°ä¸­ä»£ç ä¸æ”¹åŠ¨ï¼Œè¾“å‡ºç»“æœå¦‚ä¸‹:</li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-fallback" data-lang="fallback">æµ‹è¯•[60355:1053881] Rose is female, &lt;memory address: 0x100612520&gt;
æµ‹è¯•[60355:1053881] Rose is female, &lt;memory address: 0x100612520&gt;
</code></pre></td></tr></table>
</div>
</div><ul>
<li>å‘ç° å¯¹ p2çš„ä¿®æ”¹ï¼Œå½±å“äº† p1ï¼Œ å¹¶ä¸” p1 å’Œ p2çš„å†…å­˜åœ°å€æ˜¯ä¸€æ ·çš„ã€‚</li>
</ul>
</li>
<li>
<p>è¿™ç§copy,æˆ‘ä»¬ç§°ä¸º <strong>æµ…æ‹·è´(Shadow Copy)</strong>, ä¹Ÿå«<strong>æŒ‡é’ˆæ‹·è´</strong></p>
</li>
<li>
<p>æ²¡æœ‰ä¸º p2 ç”³è¯·æ–°çš„å †ç©ºé—´, è€Œæ˜¯å°† p2æŒ‡é’ˆæ‰§è¡Œ p1 æŒ‡å‘çš„åœ°å€ ã€‚</p>
</li>
<li>
<p>p2çš„ä¿®æ”¹ï¼Œä¿®æ”¹äº†å †ç©ºé—´çš„å€¼ï¼Œå¯¹p1äº§ç”Ÿå½±å“</p>
</li>
</ul>
</li>
</ul>
<p>å‚è€ƒæ–‡çŒ®</p>
<p><a href="https://book.douban.com/subject/6424904/">å¤§è¯æ•°æ®ç»“æ„</a></p>
<p><a href="https://developer.apple.com/library/archive/documentation/Cocoa/Conceptual/Collections/Articles/Copying.html#//apple_ref/doc/uid/TP40010162-SW3">è‹¹æœå¼€å‘æ–‡æ¡£</a></p>

    </div>

    <div class="post-copyright">
  <p class="copyright-item">
    <span class="item-title">Author</span>
    <span class="item-content">é£ç†Š</span>
  </p>
  <p class="copyright-item">
    <span class="item-title">LastMod</span>
    <span class="item-content">
        Jul 14
        
    </span>
  </p>
  
  
</div>
<footer class="post-footer">
      <div class="post-tags">
          <a href="/tags/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/">è®¾è®¡æ¨¡å¼</a>
          <a href="/tags/ios/">iOS</a>
          </div>
      <nav class="post-nav">
        <a class="prev" href="/post/leetcode%E5%88%B7%E9%A2%98%E5%9B%9E%E9%A1%BE%E4%B8%8E%E6%80%BB%E7%BB%93/">
            <i class="iconfont icon-left"></i>
            <span class="prev-text nav-default">LeetCodeåˆ·é¢˜å›é¡¾ä¸æ€»ç»“</span>
            <span class="prev-text nav-mobile">Prev</span>
          </a>
        <a class="next" href="/post/%E8%A3%85%E9%A5%B0%E5%99%A8%E6%A8%A1%E5%BC%8F%E4%B8%8Eobjc%E7%9A%84category/">
            <span class="next-text nav-default">è£…é¥°å™¨æ¨¡å¼ä¸ObjCçš„Category</span>
            <span class="next-text nav-mobile">Next</span>
            <i class="iconfont icon-right"></i>
          </a>
      </nav>
    </footer>
  </article>
        </div>
        

  

  

      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="social-links">
      <a href="310311589@qq.com" class="iconfont icon-email" title="email"></a>
      <a href="https://github.com/zhangxiongfeiv" class="iconfont icon-github" title="github"></a>
      <a href="https://leetcode-cn.com/u/zhangxiongfei/" class="iconfont icon-leetcode" title="leetcode"></a>
  <a href="https://zhxiongfei.github.io/index.xml" type="application/rss+xml" class="iconfont icon-rss" title="rss"></a>
</div>

<div class="copyright">
  <span class="power-by">
    Powered by <a class="hexo-link" href="https://gohugo.io">Hugo</a>
  </span>
  <span class="division">|</span>
  <span class="theme-info">
    Theme - 
    <a class="theme-link" href="https://github.com/olOwOlo/hugo-theme-even">Even</a>
  </span>

  

  <span class="copyright-year">
    &copy; 
    2017 - 
    2020
    <span class="heart">
      <i class="iconfont icon-heart"></i>
    </span>
    <span class="author">é£ç†Š</span>
  </span>
</div>
    </footer>

    <div class="back-to-top" id="back-to-top">
      <i class="iconfont icon-up"></i>
    </div>
  </div>
  
  <script src="https://cdn.jsdelivr.net/npm/jquery@3.2.1/dist/jquery.min.js" integrity="sha256-hwg4gsxgFZhOsEEamdOYGBf13FyQuiTwlAQgxVSNgt4=" crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/slideout@1.0.1/dist/slideout.min.js" integrity="sha256-t+zJ/g8/KXIJMjSVQdnibt4dlaDxc9zXr/9oNPeWqdg=" crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@3.1.20/dist/jquery.fancybox.min.js" integrity="sha256-XVLffZaxoWfGUEbdzuLi7pwaUJv1cecsQJQqGLe7axY=" crossorigin="anonymous"></script>



<script type="text/javascript" src="/js/main.min.d7b7ada643c9c1a983026e177f141f7363b4640d619caf01d8831a6718cd44ea.js"></script>








</body>
</html>
